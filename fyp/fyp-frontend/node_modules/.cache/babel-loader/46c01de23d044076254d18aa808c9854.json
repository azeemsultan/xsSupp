{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\RBTG\\\\Desktop\\\\FYP-Code\\\\fyp\\\\fyp-frontend\\\\src\\\\Component\\\\common\\\\login.jsx\";\nimport React, { Component } from 'react';\nimport * as authService from '../../Axios-Actions/authService';\nimport { Paper, withStyles, Grid, TextField, Button, FormControlLabel, Checkbox } from '@material-ui/core';\nimport { Face, Fingerprint } from '@material-ui/icons';\nimport { Redirect } from 'react-router-dom';\nimport img1 from './work.jpg';\nimport Joi from \"joi-browser\";\n\nconst styles = theme => ({\n  margin: {\n    margin: theme.spacing.unit * 2\n  },\n  padding: {\n    padding: theme.spacing.unit\n  }\n});\n\nlet radiovalue;\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.schema = {\n      email: Joi.string().required().email({\n        minDomainAtoms: 2\n      }).label(\"Email\"),\n      password: Joi.string().required().min(8).label(\"Password\")\n    };\n\n    this.validateProperty = ({\n      name,\n      value\n    }) => {\n      const obj = {\n        [name]: value\n      };\n      const schema = {\n        [name]: this.schema[name]\n      };\n      const {\n        error\n      } = Joi.validate(obj, schema);\n      return error ? error.details[0].message : null;\n    };\n\n    this.validate = () => {\n      const abort = {\n        abortEarly: false\n      };\n      const {\n        error\n      } = Joi.validate(this.state.data, this.schema, abort);\n      if (!error) return null;\n      const errors = {};\n\n      for (let item of error.details) errors[item.path[0]] = item.message;\n\n      return errors;\n    };\n\n    this.state = {\n      email: \"\",\n      password: {\n        value: \"\"\n      },\n      data: {},\n      invalid: false,\n      loading: false,\n      error: \"\"\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChangeValue = this.onChangeValue.bind(this);\n  }\n\n  onChangeValue(event) {\n    console.log(event.target.value);\n    radiovalue = event.target.value;\n    this.setState({\n      selectedOption: event.target.value\n    });\n  }\n\n  onChange(e) {\n    const data = { ...this.state.data\n    };\n    const error = { ...this.state.error\n    };\n    const {\n      name,\n      value\n    } = e.currentTarget;\n    const errorMessage = this.validateProperty(e.currentTarget);\n    if (errorMessage) error[name] = errorMessage;else delete error[name];\n    data[name] = value;\n    this.setState({\n      data,\n      error\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const {\n      data\n    } = this.state;\n    const errors = this.validate();\n    this.setState({\n      error: errors || {}\n    }); // console.log(error);\n\n    if (errors) {\n      console.log(errors);\n      console.log(\"validation error\");\n      return;\n    }\n\n    if (radiovalue === \"b\") {\n      authService.CustomerLogin(data.email, data.password).then(result => {\n        localStorage.setItem(\"token\", result.data);\n        console.log(\"Successfully loged in!\");\n        setTimeout(function () {\n          window.location = \"/postatask\";\n        }, 2000);\n      }).catch(err => {\n        this.setState({\n          invalid: true\n        });\n        console.log(err);\n      });\n    } else {\n      authService.ServiceProviderLogin(data.email, data.password).then(result => {\n        localStorage.setItem(\"token\", result.data);\n        console.log(\"Successfully loged in!\");\n        setTimeout(function () {\n          window.location = \"/\";\n        }, 2000);\n      }).catch(err => {\n        this.setState({\n          invalid: true\n        });\n        console.log(err);\n      });\n    }\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: false,\n        sm: 4,\n        md: 7\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 8,\n        md: 5,\n        component: Paper,\n        elevation: 6,\n        square: true,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 8,\n              alignItems: \"flex-end\",\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(Face, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                md: true,\n                sm: true,\n                xs: true,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"username\",\n                  label: \"Username\",\n                  type: \"email\",\n                  fullWidth: true,\n                  autoFocus: true,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 8,\n              alignItems: \"flex-end\",\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(Fingerprint, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                md: true,\n                sm: true,\n                xs: true,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"username\",\n                  label: \"Password\",\n                  type: \"password\",\n                  fullWidth: true,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              alignItems: \"center\",\n              justify: \"space-between\",\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    color: \"primary\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 23\n                  }, this),\n                  label: \"Remember me\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  disableFocusRipple: true,\n                  disableRipple: true,\n                  style: {\n                    textTransform: \"none\"\n                  },\n                  variant: \"text\",\n                  color: \"primary\",\n                  children: \"Forgot password ?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              justify: \"center\",\n              style: {\n                marginTop: '10px'\n              },\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                color: \"primary\",\n                style: {\n                  textTransform: \"none\"\n                },\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)\n    /*\r\n           <Grid container> \r\n          \r\n    \n           <Grid item md={1}>\r\n    \n           </Grid>\r\n           <Grid item md={6} xs={0} style={{marginTop:'50px'}}>\r\n         \r\n           <Typography  variant=\"h1\" style={{color: \"#5e7bdb\"}}>Welcome to XsSupport</Typography>\r\n           <Typography  variant=\"h4\" style={{color: \"#5e7bdb\",marginTop:'40px'}}>\r\n                   A world where ease is at your hands</Typography>\r\n                     <img src= {img1} alt={\"no content\"}style={{maxHeight:'400px',maxWidth:'700px'}}/>\r\n             \r\n            <Typography  variant=\"h4\" style={{color: \"#5e7bdb\",marginTop:'20px',marginBottom:'20px'}}>\r\n                  Register to be a part of our team.</Typography>\r\n           </Grid>\r\n           <Grid item md={4} xs={12}  style={{marginTop:'50px'}}>\r\n             <Paper elevation={3} style={{marginLeft:'20px'}} >\r\n           <div className=\"form\"  >\r\n               <form >\r\n               <ul className=\"form-container\" style={{listStyle:'none',marginLeft:'30px',}}>\r\n                   <li style={{paddingTop:'20px'}}>\r\n                   <Typography  variant=\"h4\" style={{color: \"#5e7bdb\",marginBottom:'20px',textAlign:'center',marginRight:'50px'}}>Sign In</Typography>\r\n                   </li>\r\n                 \r\n                   <li>\r\n                       <label htmlFor=\"email\">\r\n                       <Typography  variant=\"h5\" style={{color: \"#5e7bdb\"}}>Email</Typography>\r\n                       </label>\r\n                       <input style={{marginTop:'10px',border:'0.1rem solid #d9d9d9',height:'30px',borderRadius:'18px',width:'70%',marginBottom:'20px'}} onChange={this.onChange}type=\"email\" name=\"email\" id=\"email\" >\r\n    \n                       </input>\r\n                   </li>\r\n                   <li>\r\n                       <label htmlFor=\"password\" style={{marginTop:'10px'}}>\r\n                       <Typography  variant=\"h5\" style={{color: \"#5e7bdb\"}}>Password</Typography>\r\n                       </label>\r\n                       <input style={{marginTop:'10px',border:'0.1rem solid #d9d9d9',height:'30px',borderRadius:'18px',width:'70%',marginBottom:'20px'}} onChange={this.onChange}type=\"password\" name=\"password\" id=\"password\" >\r\n    \n                       </input>\r\n                   </li>\r\n                   <li> \r\n                   <span>\r\n                   <Radio\r\n           checked={this.state.selectedOption === \"a\"}\r\n           onChange={this.onChangeValue}\r\n           value=\"a\"\r\n           name=\"radio-button-demo\"\r\n           inputProps={{ 'aria-label': 'A' }}\r\n         />\r\n      Sign in as a service provider.</span>\r\n         </li>\r\n         <li>\r\n             <span>\r\n         <Radio\r\n          checked={this.state.selectedOption === \"b\"}\r\n           onChange={this.onChangeValue}\r\n           value=\"b\"\r\n           name=\"radio-button-demo\"\r\n           inputProps={{ 'aria-label': 'B' }}\r\n         />\r\n    Sign in as a customer.\r\n    </span>\r\n                   </li>\r\n                   <li><center>\r\n                     \r\n                   <button style={{marginTop:'20px',backgroundColor:'#4a95f7',borderRadius:'9px',width:'40%',marginRight:'60px'}} \r\n                   type=\"submit\"onClick={this.onSubmit}  className=\"button-primary\"> <Typography  variant=\"h5\" style={{textAlign:'center',color: \"white\",fontWeight:'bold'}}>Sign in</Typography> </button>\r\n                  \r\n                  </center>\r\n                   </li>\r\n                   <li style={{marginTop:'20px'}}>\r\n                       Dont have an account yet?\r\n                     <a href=\"/customerSignup\" > <Button>Sign up as customer</Button> </a>\r\n                   </li>\r\n                    <Typography  variant=\"h5\" style={{textAlign:'center',color: \"white\",fontWeight:'bold'}}>Create your account now!</Typography>\r\n                   Terms and conditions... \r\n                   <p style={{marginLeft:'20px'}}> _______</p>\r\n               </ul>\r\n               </form>\r\n           </div>\r\n           </Paper>\r\n           </Grid>\r\n           </Grid> */\n    ;\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/RBTG/Desktop/FYP-Code/fyp/fyp-frontend/src/Component/common/login.jsx"],"names":["React","Component","authService","Paper","withStyles","Grid","TextField","Button","FormControlLabel","Checkbox","Face","Fingerprint","Redirect","img1","Joi","styles","theme","margin","spacing","unit","padding","radiovalue","Login","constructor","schema","email","string","required","minDomainAtoms","label","password","min","validateProperty","name","value","obj","error","validate","details","message","abort","abortEarly","state","data","errors","item","path","invalid","loading","onChange","bind","onSubmit","onChangeValue","event","console","log","target","setState","selectedOption","e","currentTarget","errorMessage","preventDefault","CustomerLogin","then","result","localStorage","setItem","setTimeout","window","location","catch","err","ServiceProviderLogin","render","classes","props","height","textTransform","marginTop"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,KAAKC,WAAZ,MAA4B,iCAA5B;AACA,SAASC,KAAT,EAAgBC,UAAhB,EAA4BC,IAA5B,EAAkCC,SAAlC,EAA6CC,MAA7C,EAAqDC,gBAArD,EAAuEC,QAAvE,QAAsF,mBAAtF;AACA,SAASC,IAAT,EAAeC,WAAf,QAAkC,oBAAlC;AACA,SAAUC,QAAV,QAA0B,kBAA1B;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,GAAP,MAAgB,aAAhB;;AAGA,MAAMC,MAAM,GAAGC,KAAK,KAAK;AACvBC,EAAAA,MAAM,EAAE;AACJA,IAAAA,MAAM,EAAED,KAAK,CAACE,OAAN,CAAcC,IAAd,GAAqB;AADzB,GADe;AAIvBC,EAAAA,OAAO,EAAE;AACLA,IAAAA,OAAO,EAAEJ,KAAK,CAACE,OAAN,CAAcC;AADlB;AAJc,CAAL,CAApB;;AASA,IAAIE,UAAJ;;AACA,MAAMC,KAAN,SAAoBrB,SAApB,CAA8B;AAC5BsB,EAAAA,WAAW,GAAG;AACZ;AADY,SAgBdC,MAhBc,GAgBL;AACPC,MAAAA,KAAK,EAAEX,GAAG,CAACY,MAAJ,GAAaC,QAAb,GAAwBF,KAAxB,CAA8B;AAAEG,QAAAA,cAAc,EAAE;AAAlB,OAA9B,EAAqDC,KAArD,CAA2D,OAA3D,CADA;AAEPC,MAAAA,QAAQ,EAAEhB,GAAG,CAACY,MAAJ,GAAaC,QAAb,GAAwBI,GAAxB,CAA4B,CAA5B,EAA+BF,KAA/B,CAAqC,UAArC;AAFH,KAhBK;;AAAA,SAoBdG,gBApBc,GAoBK,CAAC;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,KAAD,KAAqB;AACtC,YAAMC,GAAG,GAAG;AAAE,SAACF,IAAD,GAAQC;AAAV,OAAZ;AACA,YAAMV,MAAM,GAAG;AAAE,SAACS,IAAD,GAAQ,KAAKT,MAAL,CAAYS,IAAZ;AAAV,OAAf;AACA,YAAM;AAAEG,QAAAA;AAAF,UAAYtB,GAAG,CAACuB,QAAJ,CAAaF,GAAb,EAAkBX,MAAlB,CAAlB;AAEA,aAAOY,KAAK,GAAGA,KAAK,CAACE,OAAN,CAAc,CAAd,EAAiBC,OAApB,GAA8B,IAA1C;AACD,KA1Ba;;AAAA,SA2BdF,QA3Bc,GA2BH,MAAM;AACf,YAAMG,KAAK,GAAG;AACZC,QAAAA,UAAU,EAAE;AADA,OAAd;AAGA,YAAM;AAAEL,QAAAA;AAAF,UAAYtB,GAAG,CAACuB,QAAJ,CAAa,KAAKK,KAAL,CAAWC,IAAxB,EAA8B,KAAKnB,MAAnC,EAA2CgB,KAA3C,CAAlB;AACA,UAAI,CAACJ,KAAL,EAAY,OAAO,IAAP;AACZ,YAAMQ,MAAM,GAAG,EAAf;;AACA,WAAK,IAAIC,IAAT,IAAiBT,KAAK,CAACE,OAAvB,EAAgCM,MAAM,CAACC,IAAI,CAACC,IAAL,CAAU,CAAV,CAAD,CAAN,GAAuBD,IAAI,CAACN,OAA5B;;AAChC,aAAOK,MAAP;AACD,KApCa;;AAEZ,SAAKF,KAAL,GAAa;AACXjB,MAAAA,KAAK,EAAE,EADI;AAEXK,MAAAA,QAAQ,EAAE;AAAEI,QAAAA,KAAK,EAAE;AAAT,OAFC;AAGXS,MAAAA,IAAI,EAAE,EAHK;AAIXI,MAAAA,OAAO,EAAE,KAJE;AAKXC,MAAAA,OAAO,EAAE,KALE;AAMXZ,MAAAA,KAAK,EAAE;AANI,KAAb;AASA,SAAKa,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKE,aAAL,GAAqB,KAAKA,aAAL,CAAmBF,IAAnB,CAAwB,IAAxB,CAArB;AACD;;AAuBDE,EAAAA,aAAa,CAACC,KAAD,EAAQ;AACnBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,MAAN,CAAatB,KAAzB;AACAb,IAAAA,UAAU,GAAGgC,KAAK,CAACG,MAAN,CAAatB,KAA1B;AACA,SAAKuB,QAAL,CAAc;AACVC,MAAAA,cAAc,EAAEL,KAAK,CAACG,MAAN,CAAatB;AADnB,KAAd;AAGD;;AACDe,EAAAA,QAAQ,CAACU,CAAD,EAAI;AACV,UAAMhB,IAAI,GAAG,EAAE,GAAG,KAAKD,KAAL,CAAWC;AAAhB,KAAb;AACA,UAAMP,KAAK,GAAG,EAAE,GAAG,KAAKM,KAAL,CAAWN;AAAhB,KAAd;AACA,UAAM;AAAEH,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkByB,CAAC,CAACC,aAA1B;AACA,UAAMC,YAAY,GAAG,KAAK7B,gBAAL,CAAsB2B,CAAC,CAACC,aAAxB,CAArB;AACA,QAAIC,YAAJ,EAAkBzB,KAAK,CAACH,IAAD,CAAL,GAAc4B,YAAd,CAAlB,KACK,OAAOzB,KAAK,CAACH,IAAD,CAAZ;AACLU,IAAAA,IAAI,CAACV,IAAD,CAAJ,GAAaC,KAAb;AACA,SAAKuB,QAAL,CAAc;AAAEd,MAAAA,IAAF;AAAQP,MAAAA;AAAR,KAAd;AACD;;AACDe,EAAAA,QAAQ,CAACQ,CAAD,EAAI;AACVA,IAAAA,CAAC,CAACG,cAAF;AACA,UAAM;AAAEnB,MAAAA;AAAF,QAAW,KAAKD,KAAtB;AACA,UAAME,MAAM,GAAG,KAAKP,QAAL,EAAf;AACA,SAAKoB,QAAL,CAAc;AAAErB,MAAAA,KAAK,EAAEQ,MAAM,IAAI;AAAnB,KAAd,EAJU,CAKV;;AACA,QAAIA,MAAJ,EAAY;AACRU,MAAAA,OAAO,CAACC,GAAR,CAAYX,MAAZ;AACAU,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACC;AACJ;;AACD,QAAGlC,UAAU,KAAG,GAAhB,EAAoB;AACpBnB,MAAAA,WAAW,CACR6D,aADH,CACiBpB,IAAI,CAAClB,KADtB,EAC6BkB,IAAI,CAACb,QADlC,EAEGkC,IAFH,CAESC,MAAD,IAAY;AAChBC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,MAAM,CAACtB,IAArC;AAEAW,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAa,QAAAA,UAAU,CAAC,YAAY;AACrBC,UAAAA,MAAM,CAACC,QAAP,GAAkB,YAAlB;AACD,SAFS,EAEP,IAFO,CAAV;AAID,OAVH,EAWGC,KAXH,CAWUC,GAAD,IAAS;AACd,aAAKf,QAAL,CAAc;AAAEV,UAAAA,OAAO,EAAE;AAAX,SAAd;AACAO,QAAAA,OAAO,CAACC,GAAR,CAAYiB,GAAZ;AACD,OAdH;AAeC,KAhBD,MAgBK;AAEDtE,MAAAA,WAAW,CACVuE,oBADD,CACsB9B,IAAI,CAAClB,KAD3B,EACkCkB,IAAI,CAACb,QADvC,EAECkC,IAFD,CAEOC,MAAD,IAAY;AAChBC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,MAAM,CAACtB,IAArC;AAEAW,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAa,QAAAA,UAAU,CAAC,YAAY;AACrBC,UAAAA,MAAM,CAACC,QAAP,GAAkB,GAAlB;AACD,SAFS,EAEP,IAFO,CAAV;AAGD,OATD,EAUCC,KAVD,CAUQC,GAAD,IAAS;AACd,aAAKf,QAAL,CAAc;AAAEV,UAAAA,OAAO,EAAE;AAAX,SAAd;AACAO,QAAAA,OAAO,CAACC,GAAR,CAAYiB,GAAZ;AACD,OAbD;AAeH;AACF;;AAEDE,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA;AAAF,QAAc,KAAKC,KAAzB;AACA,wBACE,QAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAA,8BACD,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,KAAf;AAAsB,QAAA,EAAE,EAAE,CAA1B;AAA6B,QAAA,EAAE,EAAE;AAAjC;AAAA;AAAA;AAAA;AAAA,cADC,eAED,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAmB,QAAA,EAAE,EAAE,CAAvB;AAA0B,QAAA,EAAE,EAAE,CAA9B;AAAiC,QAAA,SAAS,EAAEzE,KAA5C;AAAmD,QAAA,SAAS,EAAE,CAA9D;AAAiE,QAAA,MAAM,MAAvE;AAAA,+BACC,QAAC,KAAD;AAAA,iCACA;AAAK,YAAA,KAAK,EAAE;AAAC0E,cAAAA,MAAM,EAAC;AAAR,aAAZ;AAAA,oCACI,QAAC,IAAD;AAAM,cAAA,SAAS,MAAf;AAAgB,cAAA,OAAO,EAAE,CAAzB;AAA4B,cAAA,UAAU,EAAC,UAAvC;AAAA,sCACI,QAAC,IAAD;AAAM,gBAAA,IAAI,MAAV;AAAA,uCACI,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBADJ,eAII,QAAC,IAAD;AAAM,gBAAA,IAAI,MAAV;AAAW,gBAAA,EAAE,EAAE,IAAf;AAAqB,gBAAA,EAAE,EAAE,IAAzB;AAA+B,gBAAA,EAAE,EAAE,IAAnC;AAAA,uCACI,QAAC,SAAD;AAAW,kBAAA,EAAE,EAAC,UAAd;AAAyB,kBAAA,KAAK,EAAC,UAA/B;AAA0C,kBAAA,IAAI,EAAC,OAA/C;AAAuD,kBAAA,SAAS,MAAhE;AAAiE,kBAAA,SAAS,MAA1E;AAA2E,kBAAA,QAAQ;AAAnF;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eASI,QAAC,IAAD;AAAM,cAAA,SAAS,MAAf;AAAgB,cAAA,OAAO,EAAE,CAAzB;AAA4B,cAAA,UAAU,EAAC,UAAvC;AAAA,sCACI,QAAC,IAAD;AAAM,gBAAA,IAAI,MAAV;AAAA,uCACI,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBADJ,eAII,QAAC,IAAD;AAAM,gBAAA,IAAI,MAAV;AAAW,gBAAA,EAAE,EAAE,IAAf;AAAqB,gBAAA,EAAE,EAAE,IAAzB;AAA+B,gBAAA,EAAE,EAAE,IAAnC;AAAA,uCACI,QAAC,SAAD;AAAW,kBAAA,EAAE,EAAC,UAAd;AAAyB,kBAAA,KAAK,EAAC,UAA/B;AAA0C,kBAAA,IAAI,EAAC,UAA/C;AAA0D,kBAAA,SAAS,MAAnE;AAAoE,kBAAA,QAAQ;AAA5E;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBATJ,eAiBI,QAAC,IAAD;AAAM,cAAA,SAAS,MAAf;AAAgB,cAAA,UAAU,EAAC,QAA3B;AAAoC,cAAA,OAAO,EAAC,eAA5C;AAAA,sCACI,QAAC,IAAD;AAAM,gBAAA,IAAI,MAAV;AAAA,uCACI,QAAC,gBAAD;AAAkB,kBAAA,OAAO,eACrB,QAAC,QAAD;AACI,oBAAA,KAAK,EAAC;AADV;AAAA;AAAA;AAAA;AAAA,0BADJ;AAIE,kBAAA,KAAK,EAAC;AAJR;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBADJ,eAQI,QAAC,IAAD;AAAM,gBAAA,IAAI,MAAV;AAAA,uCACI,QAAC,MAAD;AAAQ,kBAAA,kBAAkB,MAA1B;AAA2B,kBAAA,aAAa,MAAxC;AAAyC,kBAAA,KAAK,EAAE;AAAEC,oBAAAA,aAAa,EAAE;AAAjB,mBAAhD;AAA2E,kBAAA,OAAO,EAAC,MAAnF;AAA0F,kBAAA,KAAK,EAAC,SAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBARJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAjBJ,eA6BI,QAAC,IAAD;AAAM,cAAA,SAAS,MAAf;AAAgB,cAAA,OAAO,EAAC,QAAxB;AAAiC,cAAA,KAAK,EAAE;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAAxC;AAAA,qCACI,QAAC,MAAD;AAAQ,gBAAA,OAAO,EAAC,UAAhB;AAA2B,gBAAA,KAAK,EAAC,SAAjC;AAA2C,gBAAA,KAAK,EAAE;AAAED,kBAAAA,aAAa,EAAE;AAAjB,iBAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBA7BJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cAFC;AAAA;AAAA;AAAA;AAAA;AAAA;AAwCL;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7HI;AAgID;;AAxO2B;;AA2O9B,eAAexD,KAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport * as authService from'../../Axios-Actions/authService';\r\nimport { Paper, withStyles, Grid, TextField, Button, FormControlLabel, Checkbox} from '@material-ui/core';\r\nimport { Face, Fingerprint } from '@material-ui/icons'\r\nimport  { Redirect } from 'react-router-dom'\r\nimport img1 from './work.jpg';\r\nimport Joi from \"joi-browser\";\r\n\r\n\r\nconst styles = theme => ({\r\n  margin: {\r\n      margin: theme.spacing.unit * 2,\r\n  },\r\n  padding: {\r\n      padding: theme.spacing.unit\r\n  }\r\n});\r\n\r\nlet radiovalue;\r\nclass Login extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: \"\",\r\n      password: { value: \"\" },\r\n      data: {},\r\n      invalid: false,\r\n      loading: false,\r\n      error: \"\",\r\n    };\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onChangeValue = this.onChangeValue.bind(this);\r\n  }\r\n\r\n  schema = {\r\n    email: Joi.string().required().email({ minDomainAtoms: 2 }).label(\"Email\"),\r\n    password: Joi.string().required().min(8).label(\"Password\"),\r\n  };\r\n  validateProperty = ({ name, value }) => {\r\n    const obj = { [name]: value };\r\n    const schema = { [name]: this.schema[name] };\r\n    const { error } = Joi.validate(obj, schema);\r\n\r\n    return error ? error.details[0].message : null;\r\n  };\r\n  validate = () => {\r\n    const abort = {\r\n      abortEarly: false,\r\n    };\r\n    const { error } = Joi.validate(this.state.data, this.schema, abort);\r\n    if (!error) return null;\r\n    const errors = {};\r\n    for (let item of error.details) errors[item.path[0]] = item.message;\r\n    return errors;\r\n  };\r\n  onChangeValue(event) {\r\n    console.log(event.target.value);\r\n    radiovalue = event.target.value;\r\n    this.setState({\r\n        selectedOption: event.target.value\r\n      });\r\n  }\r\n  onChange(e) {\r\n    const data = { ...this.state.data };\r\n    const error = { ...this.state.error };\r\n    const { name, value } = e.currentTarget;\r\n    const errorMessage = this.validateProperty(e.currentTarget);\r\n    if (errorMessage) error[name] = errorMessage;\r\n    else delete error[name];\r\n    data[name] = value;\r\n    this.setState({ data, error });\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const { data } = this.state;\r\n    const errors = this.validate();\r\n    this.setState({ error: errors || {} });\r\n    // console.log(error);\r\n    if (errors) {\r\n        console.log(errors);   \r\n        console.log(\"validation error\");\r\n         return;\r\n    }\r\n    if(radiovalue===\"b\"){\r\n    authService\r\n      .CustomerLogin(data.email, data.password)\r\n      .then((result) => {\r\n        localStorage.setItem(\"token\", result.data);\r\n  \r\n        console.log(\"Successfully loged in!\");\r\n        setTimeout(function () {\r\n          window.location = \"/postatask\";\r\n        }, 2000);\r\n    \r\n      })\r\n      .catch((err) => {\r\n        this.setState({ invalid: true });\r\n        console.log(err)\r\n      });\r\n    }else{\r\n\r\n        authService\r\n        .ServiceProviderLogin(data.email, data.password)\r\n        .then((result) => {\r\n          localStorage.setItem(\"token\", result.data);\r\n    \r\n          console.log(\"Successfully loged in!\");\r\n          setTimeout(function () {\r\n            window.location = \"/\";\r\n          }, 2000);\r\n        })\r\n        .catch((err) => {\r\n          this.setState({ invalid: true });\r\n          console.log(err)\r\n        });\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <Grid container>\r\n     <Grid item xs={false} sm={4} md={7}  />\r\n     <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n      <Paper >\r\n      <div style={{height:'100%'}} >\r\n          <Grid container spacing={8} alignItems=\"flex-end\">\r\n              <Grid item>\r\n                  <Face />\r\n              </Grid>\r\n              <Grid item md={true} sm={true} xs={true}>\r\n                  <TextField id=\"username\" label=\"Username\" type=\"email\" fullWidth autoFocus required />\r\n              </Grid>\r\n          </Grid>\r\n          <Grid container spacing={8} alignItems=\"flex-end\">\r\n              <Grid item>\r\n                  <Fingerprint />\r\n              </Grid>\r\n              <Grid item md={true} sm={true} xs={true}>\r\n                  <TextField id=\"username\" label=\"Password\" type=\"password\" fullWidth required />\r\n              </Grid>\r\n          </Grid>\r\n          <Grid container alignItems=\"center\" justify=\"space-between\">\r\n              <Grid item>\r\n                  <FormControlLabel control={\r\n                      <Checkbox\r\n                          color=\"primary\"\r\n                      />\r\n                  } label=\"Remember me\" />\r\n              </Grid>\r\n              <Grid item>\r\n                  <Button disableFocusRipple disableRipple style={{ textTransform: \"none\" }} variant=\"text\" color=\"primary\">Forgot password ?</Button>\r\n              </Grid>\r\n          </Grid>\r\n          <Grid container justify=\"center\" style={{ marginTop: '10px' }}>\r\n              <Button variant=\"outlined\" color=\"primary\" style={{ textTransform: \"none\" }}>Login</Button>\r\n          </Grid>\r\n      </div>\r\n  </Paper>\r\n  </Grid>\r\n  </Grid>\r\n /*\r\n        <Grid container> \r\n       \r\n\r\n        <Grid item md={1}>\r\n\r\n        </Grid>\r\n        <Grid item md={6} xs={0} style={{marginTop:'50px'}}>\r\n      \r\n        <Typography  variant=\"h1\" style={{color: \"#5e7bdb\"}}>Welcome to XsSupport</Typography>\r\n        <Typography  variant=\"h4\" style={{color: \"#5e7bdb\",marginTop:'40px'}}>\r\n                A world where ease is at your hands</Typography>\r\n                  <img src= {img1} alt={\"no content\"}style={{maxHeight:'400px',maxWidth:'700px'}}/>\r\n          \r\n         <Typography  variant=\"h4\" style={{color: \"#5e7bdb\",marginTop:'20px',marginBottom:'20px'}}>\r\n               Register to be a part of our team.</Typography>\r\n        </Grid>\r\n        <Grid item md={4} xs={12}  style={{marginTop:'50px'}}>\r\n          <Paper elevation={3} style={{marginLeft:'20px'}} >\r\n        <div className=\"form\"  >\r\n            <form >\r\n            <ul className=\"form-container\" style={{listStyle:'none',marginLeft:'30px',}}>\r\n                <li style={{paddingTop:'20px'}}>\r\n                <Typography  variant=\"h4\" style={{color: \"#5e7bdb\",marginBottom:'20px',textAlign:'center',marginRight:'50px'}}>Sign In</Typography>\r\n                </li>\r\n              \r\n                <li>\r\n                    <label htmlFor=\"email\">\r\n                    <Typography  variant=\"h5\" style={{color: \"#5e7bdb\"}}>Email</Typography>\r\n                    </label>\r\n                    <input style={{marginTop:'10px',border:'0.1rem solid #d9d9d9',height:'30px',borderRadius:'18px',width:'70%',marginBottom:'20px'}} onChange={this.onChange}type=\"email\" name=\"email\" id=\"email\" >\r\n\r\n                    </input>\r\n                </li>\r\n                <li>\r\n                    <label htmlFor=\"password\" style={{marginTop:'10px'}}>\r\n                    <Typography  variant=\"h5\" style={{color: \"#5e7bdb\"}}>Password</Typography>\r\n                    </label>\r\n                    <input style={{marginTop:'10px',border:'0.1rem solid #d9d9d9',height:'30px',borderRadius:'18px',width:'70%',marginBottom:'20px'}} onChange={this.onChange}type=\"password\" name=\"password\" id=\"password\" >\r\n\r\n                    </input>\r\n                </li>\r\n                <li> \r\n                <span>\r\n                <Radio\r\n        checked={this.state.selectedOption === \"a\"}\r\n        onChange={this.onChangeValue}\r\n        value=\"a\"\r\n        name=\"radio-button-demo\"\r\n        inputProps={{ 'aria-label': 'A' }}\r\n      />\r\n   Sign in as a service provider.</span>\r\n      </li>\r\n      <li>\r\n          <span>\r\n      <Radio\r\n       checked={this.state.selectedOption === \"b\"}\r\n        onChange={this.onChangeValue}\r\n        value=\"b\"\r\n        name=\"radio-button-demo\"\r\n        inputProps={{ 'aria-label': 'B' }}\r\n      />\r\nSign in as a customer.\r\n</span>\r\n                </li>\r\n                <li><center>\r\n                  \r\n                <button style={{marginTop:'20px',backgroundColor:'#4a95f7',borderRadius:'9px',width:'40%',marginRight:'60px'}} \r\n                type=\"submit\"onClick={this.onSubmit}  className=\"button-primary\"> <Typography  variant=\"h5\" style={{textAlign:'center',color: \"white\",fontWeight:'bold'}}>Sign in</Typography> </button>\r\n               \r\n               </center>\r\n                </li>\r\n                <li style={{marginTop:'20px'}}>\r\n                    Dont have an account yet?\r\n                  <a href=\"/customerSignup\" > <Button>Sign up as customer</Button> </a>\r\n                </li>\r\n                 <Typography  variant=\"h5\" style={{textAlign:'center',color: \"white\",fontWeight:'bold'}}>Create your account now!</Typography>\r\n                Terms and conditions... \r\n                <p style={{marginLeft:'20px'}}> _______</p>\r\n            </ul>\r\n            </form>\r\n        </div>\r\n        </Paper>\r\n        </Grid>\r\n        </Grid> */\r\n  \r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}