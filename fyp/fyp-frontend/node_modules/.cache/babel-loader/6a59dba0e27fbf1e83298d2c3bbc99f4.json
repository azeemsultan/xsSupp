{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\RBTG\\\\Desktop\\\\FYP-Code\\\\fyp\\\\fyp-frontend\\\\src\\\\Component\\\\customer\\\\rating.jsx\";\nimport { Avatar, Grid, Paper, Typography } from '@material-ui/core';\nimport React from 'react';\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\nimport ReactStars from \"react-rating-stars-component\";\nimport img from './plumber.jpg';\nimport * as ratingService from \"../../Axios-Actions/ratingService\";\nlet rstar = 0;\n\nclass rating extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = event => {\n      const target = event.target;\n      const value = target.type === 'checkbox' ? target.checked : target.value;\n      const name = target.name;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.state = {\n      likes: false,\n      rtitle: '',\n      rreview: '',\n      rate: [],\n      servant: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    ratingService.getserviceInfo().then(result => {\n      this.setState({\n        servant: result.data\n      });\n      this.getratings(result.data.serviceprovider);\n    });\n  }\n\n  getratings(id) {\n    ratingService.getAllRating(id).then(result => {\n      this.setState({\n        rate: result.data\n      });\n    });\n  }\n\n  postreview(sid, se, id) {\n    ratingService.rate(this.state.rtitle, this.state.rreview, rstar, sid, se, id).then(result => {\n      console.log(\"Successfull Rated\");\n      setTimeout(function () {\n        window.location = \"/\";\n      }, 2000);\n    }).catch(err => {\n      console.log(\"Server error\");\n    });\n  }\n\n  render() {\n    let {\n      servant\n    } = this.state;\n    let {\n      rate\n    } = this.state;\n\n    function ratingChanged(newRating) {\n      rstar = newRating;\n    }\n\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      style: {\n        backgroundColor: '#fcfcfc'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 6,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            listStyle: 'none'\n          },\n          children: rate.map(t => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Paper, {\n                style: {\n                  height: '50px'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                    style: {\n                      paddingTop: '10px',\n                      paddingLeft: '20px'\n                    },\n                    children: \"Reviews\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'inline-flex',\n                  marginTop: '40px',\n                  width: '100%',\n                  backgroundColor: '#f7f7f7'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginLeft: '10px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'inline-flex',\n                      marginTop: '10px'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                      style: {\n                        marginRight: '10px'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 93,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h6\",\n                      children: [\"Customer:\", t.customeremail]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 95,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(ReactStars, {\n                    count: t.star,\n                    size: 24,\n                    color: \"#ffd700\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"subtitle2\",\n                    style: {\n                      marginTop: '20px'\n                    },\n                    children: [\"Title: \", t.reviewtitle]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"subtitle2\",\n                    children: [\"Review:\", t.review]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    style: {\n                      backgroundColor: '#f7f7f7',\n                      border: '0px',\n                      color: 'darkblue'\n                    },\n                    children: [\" \", /*#__PURE__*/_jsxDEV(ThumbUpIcon, {\n                      style: {\n                        fontSize: '30px'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 51\n                    }, this), \" \", this.state.likes + 0]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 37\n            }, this)\n          }, t._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 4,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Paper, {\n            style: {\n              marginLeft: '20px',\n              height: '50px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                paddingTop: '10px',\n                paddingLeft: '20px'\n              },\n              children: \"Post A Review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: '20px',\n              marginTop: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"no content\",\n              style: {\n                maxHeight: '450px',\n                maxWidth: '400px',\n                marginLeft: '20px',\n                marginRight: '20%'\n              },\n              src: img\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"ServiceProvider E-mail:\", servant.serviceprovideremail]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Task Title: \", servant.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ReactStars, {\n              count: 5,\n              onChange: ratingChanged,\n              size: 24,\n              activeColor: \"#ffd700\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'inline-flex',\n              marginLeft: '20px',\n              marginTop: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Avatar, {\n              variant: \"square\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"rtitle\",\n                onChange: this.handleChange,\n                value: this.state.rtitle,\n                id: \"rtitle\",\n                style: {\n                  marginLeft: '20px',\n                  width: '200px'\n                },\n                type: \"text\",\n                placeholder: \"review Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: '80px',\n              marginTop: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"rreview\",\n              onChange: this.handleChange,\n              value: this.state.rreview,\n              id: \"rreview\",\n              style: {\n                width: '100%',\n                border: '1px solid #ccccfff'\n              },\n              type: \"text\",\n              placeholder: \"Write your review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.postreview.bind(this, servant.serviceprovider, servant.serviceprovideremail, servant._id),\n              style: {\n                marginTop: '10px',\n                width: '100px',\n                border: '0px',\n                color: 'brown',\n                fontSize: '20px',\n                borderRadius: '9px'\n              },\n              children: \"POST\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default rating;","map":{"version":3,"sources":["C:/Users/RBTG/Desktop/FYP-Code/fyp/fyp-frontend/src/Component/customer/rating.jsx"],"names":["Avatar","Grid","Paper","Typography","React","ThumbUpIcon","ReactStars","img","ratingService","rstar","rating","Component","constructor","handleChange","event","target","value","type","checked","name","setState","state","likes","rtitle","rreview","rate","servant","bind","componentDidMount","getserviceInfo","then","result","data","getratings","serviceprovider","id","getAllRating","postreview","sid","se","console","log","setTimeout","window","location","catch","err","render","ratingChanged","newRating","backgroundColor","listStyle","map","t","height","paddingTop","paddingLeft","display","marginTop","width","marginLeft","marginRight","customeremail","star","reviewtitle","review","border","color","fontSize","_id","maxHeight","maxWidth","serviceprovideremail","title","borderRadius"],"mappings":"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","sourcesContent":["import { Avatar, Grid, Paper, Typography } from '@material-ui/core';\r\nimport React from 'react';\r\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\r\nimport ReactStars from \"react-rating-stars-component\";\r\nimport img from './plumber.jpg';\r\nimport * as ratingService from \"../../Axios-Actions/ratingService\";\r\n\r\nlet rstar = 0;\r\nclass rating extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            likes: false,\r\n            rtitle: '',\r\n            rreview: '',\r\n            rate: [],\r\n            servant: [],\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n\r\n    }\r\n    componentDidMount() {\r\n\r\n        ratingService.getserviceInfo()\r\n            .then((result) => {\r\n                this.setState({ servant: result.data });\r\n                this.getratings(result.data.serviceprovider);\r\n            })\r\n    }\r\n\r\n    getratings(id) {\r\n\r\n        ratingService.getAllRating(id)\r\n            .then((result) => {\r\n                this.setState({ rate: result.data });\r\n            })\r\n\r\n    }\r\n\r\n    postreview(sid, se, id) {\r\n        ratingService.rate(this.state.rtitle, this.state.rreview, rstar, sid, se, id)\r\n            .then((result) => {\r\n                console.log(\"Successfull Rated\");\r\n                setTimeout(function () {\r\n                    window.location = \"/\";\r\n                }, 2000);\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"Server error\");\r\n            });\r\n    }\r\n    handleChange = event => {\r\n\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let { servant } = this.state;\r\n        let { rate } = this.state;\r\n        function ratingChanged(newRating) {\r\n            rstar = newRating;\r\n        }\r\n\r\n        return (\r\n\r\n            <Grid container style={{ backgroundColor: '#fcfcfc' }}>\r\n                <Grid item md={1}></Grid>\r\n\r\n                <Grid item md={6} xs={12}>\r\n                    <ul style={{ listStyle: 'none' }}>\r\n                        {\r\n                            rate.map(t => (\r\n                                <li key={t._id}>\r\n                                    <div>\r\n\r\n                                        <Paper style={{ height: '50px' }}>\r\n                                            <div>\r\n                                                <h2 style={{ paddingTop: '10px', paddingLeft: '20px' }}>\r\n                                                    Reviews\r\n                </h2>\r\n                                            </div>\r\n                                        </Paper>\r\n                                        <div style={{ display: 'inline-flex', marginTop: '40px', width: '100%', backgroundColor: '#f7f7f7' }}>\r\n                                            <div style={{ marginLeft: '10px' }} >\r\n                                                <div style={{ display: 'inline-flex', marginTop: '10px' }}>\r\n                                                    <Avatar style={{ marginRight: '10px' }}></Avatar>\r\n\r\n                                                    <Typography variant=\"h6\">\r\n                                                        Customer:{t.customeremail}\r\n                                                    </Typography>\r\n                                                </div>\r\n                                                <ReactStars\r\n                                                    count={t.star}\r\n                                                    size={24}\r\n                                                    color={\"#ffd700\"}\r\n                                                />\r\n                                                <Typography variant=\"subtitle2\" style={{marginTop:'20px'}}>\r\n                                                    Title: {t.reviewtitle}\r\n                                                </Typography>\r\n\r\n                                                <Typography variant=\"subtitle2\">\r\n                                                    Review:{t.review}\r\n                                                </Typography>\r\n\r\n                                                <button style={{ backgroundColor: '#f7f7f7', border: '0px', color: 'darkblue' }}\r\n\r\n\r\n                                                > <ThumbUpIcon style={{ fontSize: '30px' }} /> {this.state.likes + 0}</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                            ))\r\n                        }\r\n                    </ul>\r\n                </Grid>\r\n\r\n\r\n\r\n\r\n\r\n                <Grid item md={4} xs={12}>\r\n                    <div style={{ marginTop: '20px' }}>\r\n                        <Paper style={{ marginLeft: '20px', height: '50px' }}>\r\n                            <h2 style={{ paddingTop: '10px', paddingLeft: '20px' }}>\r\n                                Post A Review\r\n                        </h2>\r\n                        </Paper>\r\n\r\n                        <div style={{ marginLeft: '20px', marginTop: '20px' }}>\r\n                            <img alt=\"no content\" style={{ maxHeight: '450px', maxWidth: '400px', marginLeft: '20px', marginRight: '20%' }} src={img} />\r\n                            <p>ServiceProvider E-mail:{servant.serviceprovideremail}</p>\r\n                            <p>Task Title: {servant.title}</p>\r\n\r\n                            <ReactStars\r\n                                count={5}\r\n                                onChange={ratingChanged}\r\n                                size={24}\r\n                                activeColor=\"#ffd700\"\r\n                            />\r\n\r\n                        </div>\r\n\r\n\r\n                        <div style={{ display: 'inline-flex', marginLeft: '20px', marginTop: '20px' }}>\r\n                            <Avatar variant='square' />\r\n                            <div >\r\n                                <input name=\"rtitle\" onChange={this.handleChange} value={this.state.rtitle} id=\"rtitle\" style={{ marginLeft: '20px', width: '200px' }} type=\"text\" placeholder=\"review Title\" />\r\n                            </div>\r\n                        </div>\r\n                        <div style={{ marginLeft: '80px', marginTop: '10px' }}>\r\n                            <textarea name=\"rreview\" onChange={this.handleChange} value={this.state.rreview} id=\"rreview\" style={{ width: '100%', border: '1px solid #ccccfff' }} type=\"text\" placeholder=\"Write your review\" />\r\n                            <button onClick={this.postreview.bind(this, servant.serviceprovider, servant.serviceprovideremail, servant._id)} style={{ marginTop: '10px', width: '100px', border: '0px', color: 'brown', fontSize: '20px', borderRadius: '9px' }}>POST</button>\r\n                        </div>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default rating;"]},"metadata":{},"sourceType":"module"}