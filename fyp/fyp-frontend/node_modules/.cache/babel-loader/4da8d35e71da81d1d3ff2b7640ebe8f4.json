{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\RBTG\\\\Desktop\\\\FYP-Codeold\\\\fyp\\\\fyp-frontend\\\\src\\\\Component\\\\common\\\\SignIn.js\";\nimport React, { Component } from 'react'; // @material-ui/core components\n\nimport { Backdrop, Badge, Container, Fade, Modal } from '@material-ui/core';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Joi, { errors } from \"joi-browser\";\nimport * as authService from '../../Axios-Actions/authService';\nimport { Radio } from '@material-ui/core';\nimport useGeoLocation from \"./useGeoLocation\";\nimport { Divider } from \"@material-ui/core\";\nimport { Apps, Face, Phone, PhonelinkLockOutlined, VpnKey } from \"@material-ui/icons\";\nimport { Alert, AlertTitle } from '@material-ui/lab';\n\nfunction Copyright() {\n  return /*#__PURE__*/_jsxDEV(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    children: ['Copyright © ', /*#__PURE__*/_jsxDEV(Link, {\n      color: \"inherit\",\n      href: \"https://material-ui.com/\",\n      children: \"Your Website\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this), ' ', new Date().getFullYear(), '.']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 7\n  }, this);\n}\n\n_c = Copyright;\n\nconst styles = theme => ({\n  root: {\n    height: '100vh'\n  },\n  image: {\n    backgroundImage: 'url(https://source.unsplash.com/kK7uPfb2YWU)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center'\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n});\n\nlet la, ln;\nlet radiovalue;\n\nclass SignIn extends Component {\n  constructor() {\n    super();\n    this.schema = {\n      email: Joi.string().required().email({\n        minDomainAtoms: 2\n      }).label(\"Email\"),\n      password: Joi.string().required().min(8).label(\"Password\")\n    };\n\n    this.validateProperty = ({\n      name,\n      value\n    }) => {\n      const obj = {\n        [name]: value\n      };\n      const schema = {\n        [name]: this.schema[name]\n      };\n      const {\n        error\n      } = Joi.validate(obj, schema);\n      return error ? error.details[0].message : null;\n    };\n\n    this.validate = () => {\n      const abort = {\n        abortEarly: false\n      };\n      const {\n        error\n      } = Joi.validate(this.state.data, this.schema, abort);\n      if (!error) return null;\n      const errors = {};\n\n      for (let item of error.details) errors[item.path[0]] = item.message;\n\n      return errors;\n    };\n\n    this.state = {\n      email: \"\",\n      password: {\n        value: \"\"\n      },\n      data: {},\n      invalid: false,\n      loading: false,\n      error: \"\",\n      gen: false\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChangeValue = this.onChangeValue.bind(this);\n  }\n\n  componentDidMount() {\n    navigator.geolocation.getCurrentPosition(function (position) {\n      console.log(\"Latitude is :\", position.coords.latitude);\n      console.log(\"Longitude is :\", position.coords.longitude);\n      la = position.coords.latitude;\n      ln = position.coords.longitude;\n    });\n  }\n\n  onChangeValue(event) {\n    console.log(event.target.value);\n    radiovalue = event.target.value;\n    this.setState({\n      selectedOption: event.target.value\n    });\n  }\n\n  onChange(e) {\n    const data = { ...this.state.data\n    };\n    const error = { ...this.state.error\n    };\n    const {\n      name,\n      value\n    } = e.currentTarget;\n    const errorMessage = this.validateProperty(e.currentTarget);\n    if (errorMessage) error[name] = errorMessage;else delete error[name];\n    data[name] = value;\n    this.setState({\n      data,\n      error\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const {\n      data\n    } = this.state;\n    const errors = this.validate();\n    this.setState({\n      error: errors || {}\n    }); // console.log(error);\n\n    if (errors) {\n      alert(JSON.stringify(errors));\n      console.log(\"validation error\");\n      return;\n    } else {\n      if (!la || !ln) {\n        alert(\"your most recent location is not updated.\");\n      }\n    }\n\n    if (radiovalue === \"b\") {\n      authService.CustomerLogin(data.email, data.password).then(result => {\n        localStorage.setItem(\"token\", result.data);\n\n        if (la || ln) {\n          authService.csavelocation(la, ln);\n        }\n\n        console.log(\"Successfully loged in!\");\n        setTimeout(function () {\n          window.location = \"/profile\";\n        }, 2000);\n      }).catch(err => {\n        this.setState({\n          invalid: true\n        });\n        console.log(err);\n      });\n    } else {\n      authService.ServiceProviderLogin(data.email, data.password).then(result => {\n        localStorage.setItem(\"token\", result.data);\n\n        if (la || ln) {\n          authService.ssavelocation(la, ln);\n        }\n\n        console.log(\"Successfully loged in!\");\n        setTimeout(function () {\n          window.location = \"/sprofile\";\n        }, 2000);\n      }).catch(err => {\n        this.setState({\n          invalid: true\n        });\n        console.log(err);\n      });\n    }\n  }\n\n  rp(e) {\n    setTimeout(function () {\n      window.location = \"/resetpassword\";\n    }, 2000);\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      component: \"main\",\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: false,\n        sm: 4,\n        md: 7,\n        className: classes.image\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 8,\n        md: 5,\n        component: Paper,\n        elevation: 6,\n        square: true,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.paper,\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            className: classes.avatar,\n            children: /*#__PURE__*/_jsxDEV(LockOutlinedIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            component: \"h1\",\n            variant: \"h5\",\n            children: \"Sign in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: classes.form,\n            noValidate: true,\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              id: \"email\",\n              label: \"Email Address\",\n              name: \"email\",\n              autoComplete: \"email\",\n              autoFocus: true,\n              onChange: this.onChange,\n              type: \"email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              name: \"password\",\n              label: \"Password\",\n              type: \"password\",\n              id: \"password\",\n              autoComplete: \"current-password\",\n              onChange: this.onChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(Radio, {\n                checked: this.state.selectedOption === \"a\",\n                onChange: this.onChangeValue,\n                value: \"a\",\n                name: \"radio-button-demo\",\n                inputProps: {\n                  'aria-label': 'A'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this), \"Sign in as a service provider.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(Radio, {\n                checked: this.state.selectedOption === \"b\",\n                onChange: this.onChangeValue,\n                value: \"b\",\n                name: \"radio-button-demo\",\n                inputProps: {\n                  'aria-label': 'B'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 7\n              }, this), \"Sign in as a customer.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: !error ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \" \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 14\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(Alert, {\n                  severity: \"error\",\n                  children: [/*#__PURE__*/_jsxDEV(AlertTitle, {\n                    children: \"Error\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 3\n                  }, this), \"Email or Password invalid \\u2014 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"check it out!\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 36\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 31\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                md: 4\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                md: 4,\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  fullWidth: true,\n                  variant: \"contained\",\n                  color: \"primary\",\n                  className: classes.submit,\n                  onClick: this.onSubmit,\n                  children: \"Sign In\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    style: {\n                      textAlign: 'center'\n                    },\n                    children: \" Forgot Password? Click the button below. \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                md: 4\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: true,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(Grid, {\n                    container: true,\n                    children: [/*#__PURE__*/_jsxDEV(Grid, {\n                      item: true,\n                      md: 4\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 304,\n                      columnNumber: 15\n                    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                      item: true,\n                      md: 4,\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"contained\",\n                        color: \"secondary\",\n                        fullWidth: true,\n                        className: classes.submit,\n                        onClick: this.rp,\n                        children: \"Reset Password\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 306,\n                        columnNumber: 15\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 15\n                    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                      item: true,\n                      md: 4\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 316,\n                      columnNumber: 13\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 15\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              mt: 5,\n              children: /*#__PURE__*/_jsxDEV(Copyright, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 3\n    }, this);\n  }\n\n}\n\nexport default withStyles(styles, {\n  withTheme: true\n})(SignIn);\n\nvar _c;\n\n$RefreshReg$(_c, \"Copyright\");","map":{"version":3,"sources":["C:/Users/RBTG/Desktop/FYP-Codeold/fyp/fyp-frontend/src/Component/common/SignIn.js"],"names":["React","Component","Backdrop","Badge","Container","Fade","Modal","Avatar","Button","InputAdornment","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Paper","Box","Grid","LockOutlinedIcon","Typography","withStyles","Joi","errors","authService","Radio","useGeoLocation","Divider","Apps","Face","Phone","PhonelinkLockOutlined","VpnKey","Alert","AlertTitle","Copyright","Date","getFullYear","styles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","la","ln","radiovalue","SignIn","constructor","schema","email","string","required","minDomainAtoms","label","password","min","validateProperty","name","value","obj","error","validate","details","message","abort","abortEarly","state","data","item","path","invalid","loading","gen","onChange","bind","onSubmit","onChangeValue","componentDidMount","navigator","geolocation","getCurrentPosition","position","console","log","coords","latitude","longitude","event","target","setState","selectedOption","e","currentTarget","errorMessage","preventDefault","alert","JSON","stringify","CustomerLogin","then","result","localStorage","setItem","csavelocation","setTimeout","window","location","catch","err","ServiceProviderLogin","ssavelocation","rp","render","classes","props","textAlign","withTheme"],"mappings":";;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CAEA;;AACA,SAASC,QAAT,EAAmBC,KAAnB,EAA0BC,SAA1B,EAAoCC,IAApC,EAA0CC,KAA1C,QAAsD,mBAAtD;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,GAAP,IAAcC,MAAd,QAA4B,aAA5B;AACA,OAAO,KAAKC,WAAZ,MAA4B,iCAA5B;AACA,SAASC,KAAT,QAAsB,mBAAtB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,SAASC,OAAT,QAAwB,mBAAxB;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,KAArB,EAA4BC,qBAA5B,EAAmDC,MAAnD,QAAiE,oBAAjE;AACA,SAASC,KAAT,EAAgBC,UAAhB,QAAkC,kBAAlC;;AAGA,SAASC,SAAT,GAAqB;AACjB,sBACE,QAAC,UAAD;AAAY,IAAA,OAAO,EAAC,OAApB;AAA4B,IAAA,KAAK,EAAC,eAAlC;AAAkD,IAAA,KAAK,EAAC,QAAxD;AAAA,eACG,cADH,eAEE,QAAC,IAAD;AAAM,MAAA,KAAK,EAAC,SAAZ;AAAsB,MAAA,IAAI,EAAC,0BAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAIU,GAJV,EAKG,IAAIC,IAAJ,GAAWC,WAAX,EALH,EAMG,GANH;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAUD;;KAXMF,S;;AAcP,MAAMG,MAAM,GAAGC,KAAK,KAAK;AACvBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,MAAM,EAAE;AADJ,GADiB;AAIvBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,eAAe,EAAE,8CADZ;AAELC,IAAAA,gBAAgB,EAAE,WAFb;AAGLC,IAAAA,eAAe,EACbN,KAAK,CAACO,OAAN,CAAcC,IAAd,KAAuB,OAAvB,GAAiCR,KAAK,CAACO,OAAN,CAAcE,IAAd,CAAmB,EAAnB,CAAjC,GAA0DT,KAAK,CAACO,OAAN,CAAcE,IAAd,CAAmB,GAAnB,CAJvD;AAKLC,IAAAA,cAAc,EAAE,OALX;AAMLC,IAAAA,kBAAkB,EAAE;AANf,GAJgB;AAYvBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAEb,KAAK,CAACc,OAAN,CAAc,CAAd,EAAiB,CAAjB,CADH;AAELC,IAAAA,OAAO,EAAE,MAFJ;AAGLC,IAAAA,aAAa,EAAE,QAHV;AAILC,IAAAA,UAAU,EAAE;AAJP,GAZgB;AAkBvBC,EAAAA,MAAM,EAAE;AACNL,IAAAA,MAAM,EAAEb,KAAK,CAACc,OAAN,CAAc,CAAd,CADF;AAENR,IAAAA,eAAe,EAAEN,KAAK,CAACO,OAAN,CAAcY,SAAd,CAAwBC;AAFnC,GAlBe;AAsBvBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE,MADH;AACW;AACfC,IAAAA,SAAS,EAAEvB,KAAK,CAACc,OAAN,CAAc,CAAd;AAFP,GAtBiB;AA0BvBU,EAAAA,MAAM,EAAE;AACNX,IAAAA,MAAM,EAAEb,KAAK,CAACc,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB;AADF;AA1Be,CAAL,CAApB;;AA8BA,IAAIW,EAAJ,EAAOC,EAAP;AACA,IAAIC,UAAJ;;AACF,MAAMC,MAAN,SAAqBjE,SAArB,CAA8B;AAE1BkE,EAAAA,WAAW,GAAG;AACV;AADU,SAiBZC,MAjBY,GAiBH;AACPC,MAAAA,KAAK,EAAEhD,GAAG,CAACiD,MAAJ,GAAaC,QAAb,GAAwBF,KAAxB,CAA8B;AAAEG,QAAAA,cAAc,EAAE;AAAlB,OAA9B,EAAqDC,KAArD,CAA2D,OAA3D,CADA;AAEPC,MAAAA,QAAQ,EAAErD,GAAG,CAACiD,MAAJ,GAAaC,QAAb,GAAwBI,GAAxB,CAA4B,CAA5B,EAA+BF,KAA/B,CAAqC,UAArC;AAFH,KAjBG;;AAAA,SA+BZG,gBA/BY,GA+BO,CAAC;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,KAAD,KAAqB;AACtC,YAAMC,GAAG,GAAG;AAAE,SAACF,IAAD,GAAQC;AAAV,OAAZ;AACA,YAAMV,MAAM,GAAG;AAAE,SAACS,IAAD,GAAQ,KAAKT,MAAL,CAAYS,IAAZ;AAAV,OAAf;AACA,YAAM;AAAEG,QAAAA;AAAF,UAAY3D,GAAG,CAAC4D,QAAJ,CAAaF,GAAb,EAAkBX,MAAlB,CAAlB;AAEA,aAAOY,KAAK,GAAGA,KAAK,CAACE,OAAN,CAAc,CAAd,EAAiBC,OAApB,GAA8B,IAA1C;AACD,KArCW;;AAAA,SAsCZF,QAtCY,GAsCD,MAAM;AACf,YAAMG,KAAK,GAAG;AACZC,QAAAA,UAAU,EAAE;AADA,OAAd;AAGA,YAAM;AAAEL,QAAAA;AAAF,UAAY3D,GAAG,CAAC4D,QAAJ,CAAa,KAAKK,KAAL,CAAWC,IAAxB,EAA8B,KAAKnB,MAAnC,EAA2CgB,KAA3C,CAAlB;AACA,UAAI,CAACJ,KAAL,EAAY,OAAO,IAAP;AACZ,YAAM1D,MAAM,GAAG,EAAf;;AACA,WAAK,IAAIkE,IAAT,IAAiBR,KAAK,CAACE,OAAvB,EAAgC5D,MAAM,CAACkE,IAAI,CAACC,IAAL,CAAU,CAAV,CAAD,CAAN,GAAuBD,IAAI,CAACL,OAA5B;;AAChC,aAAO7D,MAAP;AACD,KA/CW;;AAEV,SAAKgE,KAAL,GAAa;AACXjB,MAAAA,KAAK,EAAE,EADI;AAEXK,MAAAA,QAAQ,EAAE;AAAEI,QAAAA,KAAK,EAAE;AAAT,OAFC;AAGXS,MAAAA,IAAI,EAAE,EAHK;AAIXG,MAAAA,OAAO,EAAE,KAJE;AAKXC,MAAAA,OAAO,EAAE,KALE;AAMXX,MAAAA,KAAK,EAAE,EANI;AAOXY,MAAAA,GAAG,EAAC;AAPO,KAAb;AAUA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKE,aAAL,GAAqB,KAAKA,aAAL,CAAmBF,IAAnB,CAAwB,IAAxB,CAArB;AACD;;AAMDG,EAAAA,iBAAiB,GAAE;AACjBC,IAAAA,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC,UAASC,QAAT,EAAmB;AAC1DC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BF,QAAQ,CAACG,MAAT,CAAgBC,QAA7C;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,QAAQ,CAACG,MAAT,CAAgBE,SAA9C;AACA3C,MAAAA,EAAE,GAAEsC,QAAQ,CAACG,MAAT,CAAgBC,QAApB;AACAzC,MAAAA,EAAE,GAAEqC,QAAQ,CAACG,MAAT,CAAgBE,SAApB;AAED,KAND;AAQH;;AAkBCV,EAAAA,aAAa,CAACW,KAAD,EAAQ;AACnBL,IAAAA,OAAO,CAACC,GAAR,CAAYI,KAAK,CAACC,MAAN,CAAa9B,KAAzB;AACAb,IAAAA,UAAU,GAAG0C,KAAK,CAACC,MAAN,CAAa9B,KAA1B;AACA,SAAK+B,QAAL,CAAc;AACVC,MAAAA,cAAc,EAAEH,KAAK,CAACC,MAAN,CAAa9B;AADnB,KAAd;AAGD;;AACDe,EAAAA,QAAQ,CAACkB,CAAD,EAAI;AACV,UAAMxB,IAAI,GAAG,EAAE,GAAG,KAAKD,KAAL,CAAWC;AAAhB,KAAb;AACA,UAAMP,KAAK,GAAG,EAAE,GAAG,KAAKM,KAAL,CAAWN;AAAhB,KAAd;AACA,UAAM;AAAEH,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBiC,CAAC,CAACC,aAA1B;AACA,UAAMC,YAAY,GAAG,KAAKrC,gBAAL,CAAsBmC,CAAC,CAACC,aAAxB,CAArB;AACA,QAAIC,YAAJ,EAAkBjC,KAAK,CAACH,IAAD,CAAL,GAAcoC,YAAd,CAAlB,KACK,OAAOjC,KAAK,CAACH,IAAD,CAAZ;AACLU,IAAAA,IAAI,CAACV,IAAD,CAAJ,GAAaC,KAAb;AACA,SAAK+B,QAAL,CAAc;AAAEtB,MAAAA,IAAF;AAAQP,MAAAA;AAAR,KAAd;AACD;;AACDe,EAAAA,QAAQ,CAACgB,CAAD,EAAI;AACVA,IAAAA,CAAC,CAACG,cAAF;AACA,UAAM;AAAE3B,MAAAA;AAAF,QAAW,KAAKD,KAAtB;AACA,UAAMhE,MAAM,GAAG,KAAK2D,QAAL,EAAf;AACA,SAAK4B,QAAL,CAAc;AAAE7B,MAAAA,KAAK,EAAE1D,MAAM,IAAI;AAAnB,KAAd,EAJU,CAKV;;AACA,QAAIA,MAAJ,EAAY;AACR6F,MAAAA,KAAK,CAACC,IAAI,CAACC,SAAL,CAAe/F,MAAf,CAAD,CAAL;AACAgF,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACC;AACJ,KAJD,MAIK;AACH,UAAG,CAACxC,EAAD,IAAK,CAACC,EAAT,EAAY;AACVmD,QAAAA,KAAK,CAAC,2CAAD,CAAL;AACD;AACF;;AAED,QAAGlD,UAAU,KAAG,GAAhB,EAAoB;AACpB1C,MAAAA,WAAW,CACR+F,aADH,CACiB/B,IAAI,CAAClB,KADtB,EAC6BkB,IAAI,CAACb,QADlC,EAEG6C,IAFH,CAESC,MAAD,IAAY;AAChBC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,MAAM,CAACjC,IAArC;;AACA,YAAGxB,EAAE,IAAEC,EAAP,EAAU;AACRzC,UAAAA,WAAW,CAACoG,aAAZ,CAA0B5D,EAA1B,EAA6BC,EAA7B;AACD;;AACDsC,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAqB,QAAAA,UAAU,CAAC,YAAY;AACrBC,UAAAA,MAAM,CAACC,QAAP,GAAkB,UAAlB;AACD,SAFS,EAEP,IAFO,CAAV;AAID,OAZH,EAaGC,KAbH,CAaUC,GAAD,IAAS;AACd,aAAKnB,QAAL,CAAc;AAAEnB,UAAAA,OAAO,EAAE;AAAX,SAAd;AACAY,QAAAA,OAAO,CAACC,GAAR,CAAYyB,GAAZ;AACD,OAhBH;AAiBC,KAlBD,MAkBK;AAEDzG,MAAAA,WAAW,CACV0G,oBADD,CACsB1C,IAAI,CAAClB,KAD3B,EACkCkB,IAAI,CAACb,QADvC,EAEC6C,IAFD,CAEOC,MAAD,IAAY;AAChBC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,MAAM,CAACjC,IAArC;;AACA,YAAGxB,EAAE,IAAEC,EAAP,EAAU;AACRzC,UAAAA,WAAW,CAAC2G,aAAZ,CAA0BnE,EAA1B,EAA6BC,EAA7B;AACD;;AACDsC,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAqB,QAAAA,UAAU,CAAC,YAAY;AACrBC,UAAAA,MAAM,CAACC,QAAP,GAAkB,WAAlB;AACD,SAFS,EAEP,IAFO,CAAV;AAGD,OAXD,EAYCC,KAZD,CAYQC,GAAD,IAAS;AACd,aAAKnB,QAAL,CAAc;AAAEnB,UAAAA,OAAO,EAAE;AAAX,SAAd;AACAY,QAAAA,OAAO,CAACC,GAAR,CAAYyB,GAAZ;AACD,OAfD;AAiBH;AACF;;AACDG,EAAAA,EAAE,CAACpB,CAAD,EAAG;AACHa,IAAAA,UAAU,CAAC,YAAY;AACrBC,MAAAA,MAAM,CAACC,QAAP,GAAkB,gBAAlB;AACD,KAFS,EAEP,IAFO,CAAV;AAID;;AAEHM,EAAAA,MAAM,GACN;AACI,UAAM;AAAEC,MAAAA;AAAF,QAAc,KAAKC,KAAzB;AACA,wBACN,QAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,SAAS,EAAC,MAA1B;AAAiC,MAAA,SAAS,EAAED,OAAO,CAAC9F,IAApD;AAAA,8BACI,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,KAAf;AAAsB,QAAA,EAAE,EAAE,CAA1B;AAA6B,QAAA,EAAE,EAAE,CAAjC;AAAoC,QAAA,SAAS,EAAE8F,OAAO,CAAC5F;AAAvD;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAmB,QAAA,EAAE,EAAE,CAAvB;AAA0B,QAAA,EAAE,EAAE,CAA9B;AAAiC,QAAA,SAAS,EAAE1B,KAA5C;AAAmD,QAAA,SAAS,EAAE,CAA9D;AAAiE,QAAA,MAAM,MAAvE;AAAA,+BACE;AAAK,UAAA,SAAS,EAAEsH,OAAO,CAACnF,KAAxB;AAAA,kCACE,QAAC,MAAD;AAAQ,YAAA,SAAS,EAAEmF,OAAO,CAAC7E,MAA3B;AAAA,mCACE,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE,QAAC,UAAD;AAAY,YAAA,SAAS,EAAC,IAAtB;AAA2B,YAAA,OAAO,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,eAOE;AAAM,YAAA,SAAS,EAAE6E,OAAO,CAAC1E,IAAzB;AAA+B,YAAA,UAAU,MAAzC;AAAA,oCACE,QAAC,SAAD;AACE,cAAA,OAAO,EAAC,UADV;AAEE,cAAA,MAAM,EAAC,QAFT;AAGE,cAAA,QAAQ,MAHV;AAIE,cAAA,SAAS,MAJX;AAKE,cAAA,EAAE,EAAC,OALL;AAME,cAAA,KAAK,EAAC,eANR;AAOE,cAAA,IAAI,EAAC,OAPP;AAQE,cAAA,YAAY,EAAC,OARf;AASE,cAAA,SAAS,MATX;AAUE,cAAA,QAAQ,EAAE,KAAKkC,QAVjB;AAWE,cAAA,IAAI,EAAC;AAXP;AAAA;AAAA;AAAA;AAAA,oBADF,eAcE,QAAC,SAAD;AACE,cAAA,OAAO,EAAC,UADV;AAEE,cAAA,MAAM,EAAC,QAFT;AAGE,cAAA,QAAQ,MAHV;AAIE,cAAA,SAAS,MAJX;AAKE,cAAA,IAAI,EAAC,UALP;AAME,cAAA,KAAK,EAAC,UANR;AAOE,cAAA,IAAI,EAAC,UAPP;AAQE,cAAA,EAAE,EAAC,UARL;AASE,cAAA,YAAY,EAAC,kBATf;AAUE,cAAA,QAAQ,EAAE,KAAKA;AAVjB;AAAA;AAAA;AAAA;AAAA,oBAdF,eA2BV;AAAA,sCACgB,QAAC,KAAD;AACR,gBAAA,OAAO,EAAE,KAAKP,KAAL,CAAWwB,cAAX,KAA8B,GAD/B;AAER,gBAAA,QAAQ,EAAE,KAAKd,aAFP;AAGR,gBAAA,KAAK,EAAC,GAHE;AAIR,gBAAA,IAAI,EAAC,mBAJG;AAKR,gBAAA,UAAU,EAAE;AAAE,gCAAc;AAAhB;AALJ;AAAA;AAAA;AAAA;AAAA,sBADhB;AAAA;AAAA;AAAA;AAAA;AAAA,oBA3BU,eAqCA;AAAA,sCACJ,QAAC,KAAD;AACC,gBAAA,OAAO,EAAE,KAAKV,KAAL,CAAWwB,cAAX,KAA8B,GADxC;AAEE,gBAAA,QAAQ,EAAE,KAAKd,aAFjB;AAGE,gBAAA,KAAK,EAAC,GAHR;AAIE,gBAAA,IAAI,EAAC,mBAJP;AAKE,gBAAA,UAAU,EAAE;AAAE,gCAAc;AAAhB;AALd;AAAA;AAAA;AAAA;AAAA,sBADI;AAAA;AAAA;AAAA;AAAA;AAAA,oBArCA,eA+CV;AAAA,wBACG,CAAChB,KAAD,gBAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAV,gBAA2B;AAAA,wCAAK,QAAC,KAAD;AAAO,kBAAA,QAAQ,EAAC,OAAhB;AAAA,0CACjC,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADiC,oDAEL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFK;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAL;AAAA;AAAA;AAAA;AAAA;AAAA;AAD9B;AAAA;AAAA;AAAA;AAAA,oBA/CU,eAsDA,QAAC,IAAD;AAAM,cAAA,SAAS,MAAf;AAAA,sCACF,QAAC,IAAD;AAAM,gBAAA,IAAI,MAAV;AAAW,gBAAA,EAAE,EAAE;AAAf;AAAA;AAAA;AAAA;AAAA,sBADE,eAKF,QAAC,IAAD;AAAM,gBAAA,IAAI,MAAV;AAAW,gBAAA,EAAE,EAAE,CAAf;AAAA,wCACA,QAAC,MAAD;AACM,kBAAA,IAAI,EAAC,QADX;AAEM,kBAAA,SAAS,MAFf;AAGM,kBAAA,OAAO,EAAC,WAHd;AAIM,kBAAA,KAAK,EAAC,SAJZ;AAKM,kBAAA,SAAS,EAAEqD,OAAO,CAACvE,MALzB;AAMM,kBAAA,OAAO,EAAE,KAAKiC,QANpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADA,eAWI;AAAA,yCACA,QAAC,UAAD;AAAY,oBAAA,KAAK,EAAE;AAACwC,sBAAAA,SAAS,EAAC;AAAX,qBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,wBAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBALE,eAsBA,QAAC,IAAD;AAAM,gBAAA,IAAI,MAAV;AAAW,gBAAA,EAAE,EAAE;AAAf;AAAA;AAAA;AAAA;AAAA,sBAtBA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAtDA,eAiFE,QAAC,IAAD;AAAM,cAAA,SAAS,MAAf;AAAA,qCACE,QAAC,IAAD;AAAM,gBAAA,IAAI,MAAV;AAAW,gBAAA,EAAE,MAAb;AAAA,uCACA;AAAA,yCACA,QAAC,IAAD;AAAM,oBAAA,SAAS,MAAf;AAAA,4CACA,QAAC,IAAD;AAAM,sBAAA,IAAI,MAAV;AAAW,sBAAA,EAAE,EAAE;AAAf;AAAA;AAAA;AAAA;AAAA,4BADA,eAEA,QAAC,IAAD;AAAM,sBAAA,IAAI,MAAV;AAAW,sBAAA,EAAE,EAAE,CAAf;AAAA,6CACA,QAAC,MAAD;AACA,wBAAA,OAAO,EAAC,WADR;AAEA,wBAAA,KAAK,EAAC,WAFN;AAGA,wBAAA,SAAS,MAHT;AAIA,wBAAA,SAAS,EAAEF,OAAO,CAACvE,MAJnB;AAKA,wBAAA,OAAO,EAAE,KAAKqE,EALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,4BAFA,eAaF,QAAC,IAAD;AAAM,sBAAA,IAAI,MAAV;AAAW,sBAAA,EAAE,EAAE;AAAf;AAAA;AAAA;AAAA;AAAA,4BAbE;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAjFF,eAsGE,QAAC,GAAD;AAAK,cAAA,EAAE,EAAE,CAAT;AAAA,qCACE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAtGF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADM;AA2HH;;AA/PyB;;AAkQ9B,eAAe/G,UAAU,CAACiB,MAAD,EAAS;AAAEmG,EAAAA,SAAS,EAAE;AAAb,CAAT,CAAV,CAAwCtE,MAAxC,CAAf","sourcesContent":["\r\nimport React, { Component } from 'react';\r\n\r\n// @material-ui/core components\r\nimport { Backdrop, Badge, Container,Fade, Modal} from '@material-ui/core';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Joi, { errors } from \"joi-browser\";\r\nimport * as authService from'../../Axios-Actions/authService';\r\nimport { Radio } from '@material-ui/core';\r\nimport useGeoLocation from \"./useGeoLocation\";\r\nimport { Divider } from \"@material-ui/core\";\r\nimport { Apps, Face, Phone, PhonelinkLockOutlined, VpnKey } from \"@material-ui/icons\";\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\n\r\n\r\nfunction Copyright() {\r\n    return (\r\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n        {'Copyright © '}\r\n        <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n          Your Website\r\n        </Link>{' '}\r\n        {new Date().getFullYear()}\r\n        {'.'}\r\n      </Typography>\r\n    );\r\n  }\r\n\r\n  \r\n  const styles = theme => ({\r\n    root: {\r\n      height: '100vh',\r\n    },\r\n    image: {\r\n      backgroundImage: 'url(https://source.unsplash.com/kK7uPfb2YWU)',\r\n      backgroundRepeat: 'no-repeat',\r\n      backgroundColor:\r\n        theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n      backgroundSize: 'cover',\r\n      backgroundPosition: 'center',\r\n    },\r\n    paper: {\r\n      margin: theme.spacing(8, 4),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n      width: '100%', // Fix IE 11 issue.\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    },\r\n  });\r\n  let la,ln;\r\n  let radiovalue;\r\nclass SignIn extends Component{\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n          email: \"\",\r\n          password: { value: \"\" },\r\n          data: {},\r\n          invalid: false,\r\n          loading: false,\r\n          error: \"\",\r\n          gen:false\r\n        };\r\n    \r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onChangeValue = this.onChangeValue.bind(this);\r\n      }\r\n    \r\n      schema = {\r\n        email: Joi.string().required().email({ minDomainAtoms: 2 }).label(\"Email\"),\r\n        password: Joi.string().required().min(8).label(\"Password\"),\r\n      };\r\n      componentDidMount(){\r\n        navigator.geolocation.getCurrentPosition(function(position) {\r\n          console.log(\"Latitude is :\", position.coords.latitude);\r\n          console.log(\"Longitude is :\", position.coords.longitude);\r\n          la =position.coords.latitude;\r\n          ln= position.coords.longitude; \r\n\r\n        });   \r\n\r\n    }\r\n      validateProperty = ({ name, value }) => {\r\n        const obj = { [name]: value };\r\n        const schema = { [name]: this.schema[name] };\r\n        const { error } = Joi.validate(obj, schema);\r\n    \r\n        return error ? error.details[0].message : null;\r\n      };\r\n      validate = () => {\r\n        const abort = {\r\n          abortEarly: false,\r\n        };\r\n        const { error } = Joi.validate(this.state.data, this.schema, abort);\r\n        if (!error) return null;\r\n        const errors = {};\r\n        for (let item of error.details) errors[item.path[0]] = item.message;\r\n        return errors;\r\n      };\r\n      onChangeValue(event) {\r\n        console.log(event.target.value);\r\n        radiovalue = event.target.value;\r\n        this.setState({\r\n            selectedOption: event.target.value\r\n          });\r\n      }\r\n      onChange(e) {\r\n        const data = { ...this.state.data };\r\n        const error = { ...this.state.error };\r\n        const { name, value } = e.currentTarget;\r\n        const errorMessage = this.validateProperty(e.currentTarget);\r\n        if (errorMessage) error[name] = errorMessage;\r\n        else delete error[name];\r\n        data[name] = value;\r\n        this.setState({ data, error });\r\n      }\r\n      onSubmit(e) {\r\n        e.preventDefault();\r\n        const { data } = this.state;\r\n        const errors = this.validate();\r\n        this.setState({ error: errors || {} });\r\n        // console.log(error);\r\n        if (errors) {\r\n            alert(JSON.stringify(errors));   \r\n            console.log(\"validation error\");\r\n             return;\r\n        }else{\r\n          if(!la||!ln){\r\n            alert(\"your most recent location is not updated.\");\r\n          }\r\n        }\r\n\r\n        if(radiovalue===\"b\"){\r\n        authService\r\n          .CustomerLogin(data.email, data.password)\r\n          .then((result) => {\r\n            localStorage.setItem(\"token\", result.data);\r\n            if(la||ln){\r\n              authService.csavelocation(la,ln); \r\n            }\r\n            console.log(\"Successfully loged in!\");\r\n            setTimeout(function () {\r\n              window.location = \"/profile\";\r\n            }, 2000);\r\n        \r\n          })\r\n          .catch((err) => {\r\n            this.setState({ invalid: true });\r\n            console.log(err)\r\n          });\r\n        }else{\r\n    \r\n            authService\r\n            .ServiceProviderLogin(data.email, data.password)\r\n            .then((result) => {\r\n              localStorage.setItem(\"token\", result.data);\r\n              if(la||ln){\r\n                authService.ssavelocation(la,ln); \r\n              }\r\n              console.log(\"Successfully loged in!\");\r\n              setTimeout(function () {\r\n                window.location = \"/sprofile\";\r\n              }, 2000);\r\n            })\r\n            .catch((err) => {\r\n              this.setState({ invalid: true });\r\n              console.log(err)\r\n            });\r\n    \r\n        }\r\n      }\r\n      rp(e){\r\n        setTimeout(function () {\r\n          window.location = \"/resetpassword\";\r\n        }, 2000);\r\n\r\n      }\r\n  \r\n    render()\r\n    {\r\n        const { classes } = this.props;\r\n        return(\r\n  <Grid container component=\"main\" className={classes.root}>\r\n      <CssBaseline />\r\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography>\r\n          <form className={classes.form} noValidate>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n              onChange={this.onChange}\r\n              type=\"email\"\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              onChange={this.onChange}\r\n            />\r\n      \r\n<span>\r\n                <Radio\r\n        checked={this.state.selectedOption === \"a\"}\r\n        onChange={this.onChangeValue}\r\n        value=\"a\"\r\n        name=\"radio-button-demo\"\r\n        inputProps={{ 'aria-label': 'A' }}\r\n      />\r\n   Sign in as a service provider.</span>\r\n    \r\n          <span>\r\n      <Radio\r\n       checked={this.state.selectedOption === \"b\"}\r\n        onChange={this.onChangeValue}\r\n        value=\"b\"\r\n        name=\"radio-button-demo\"\r\n        inputProps={{ 'aria-label': 'B' }}\r\n      />\r\nSign in as a customer.\r\n</span>\r\n<div>\r\n  {!error ? (<div> </div>) : (<div><Alert severity=\"error\"> \r\n  <AlertTitle>Error</AlertTitle>\r\n  Email or Password invalid — <strong>check it out!</strong>\r\n</Alert> </div>)}\r\n\r\n  </div> \r\n          <Grid container>\r\n        <Grid item md={4}>\r\n\r\n        </Grid>\r\n\r\n        <Grid item md={4}>\r\n        <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              onClick={this.onSubmit}\r\n            >\r\n              Sign In\r\n            </Button>\r\n            <div>\r\n            <Typography style={{textAlign:'center'}}> Forgot Password? Click the button below. </Typography>\r\n            \r\n            </div>\r\n          </Grid>\r\n\r\n          <Grid item md={4}>\r\n          \r\n          </Grid>\r\n          </Grid>\r\n          \r\n            <Grid container>\r\n              <Grid item xs>\r\n              <div>\r\n              <Grid container>\r\n              <Grid item md={4}></Grid>\r\n              <Grid item md={4}>\r\n              <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              fullWidth\r\n              className={classes.submit}\r\n              onClick={this.rp}\r\n            >\r\n              Reset Password\r\n            </Button>\r\n            </Grid>\r\n            <Grid item md={4}></Grid>\r\n            </Grid>\r\n            </div>\r\n              </Grid>\r\n            </Grid>\r\n            <Box mt={5}>\r\n              <Copyright />\r\n            </Box>\r\n          </form>\r\n        </div>\r\n      </Grid>\r\n    \r\n    </Grid>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(SignIn);"]},"metadata":{},"sourceType":"module"}