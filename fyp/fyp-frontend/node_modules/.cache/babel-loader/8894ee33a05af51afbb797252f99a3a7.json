{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\RBTG\\\\Desktop\\\\FYP-Code\\\\fyp\\\\fyp-frontend\\\\src\\\\Component\\\\customer\\\\rating.jsx\";\nimport { Avatar, Grid, Paper } from '@material-ui/core';\nimport React from 'react';\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\nimport ReactStars from \"react-rating-stars-component\";\nimport img from './plumber.jpg';\nimport * as ratingService from \"../../Axios-Actions/ratingService\";\nlet rstar = 0;\n\nclass rating extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = event => {\n      const target = event.target;\n      const value = target.type === 'checkbox' ? target.checked : target.value;\n      const name = target.name;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.liking = () => {\n      this.setState({\n        thumb: !this.state.thumb\n      });\n\n      if (this.state.thumb == true) {\n        this.setState({\n          likes: this.state.likes + 1\n        });\n      }\n\n      if (this.state.thumb == false) {\n        this.setState({\n          likes: this.state.likes - 1\n        });\n      }\n    };\n\n    this.state = {\n      likes: 0,\n      rtitle: '',\n      rreview: '',\n      rate: [],\n      servant: [],\n      thumb: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    ratingService.getserviceInfo().then(result => {\n      this.setState({\n        servant: result.data\n      });\n      this.getratings(result.data.serviceprovider);\n    });\n  }\n\n  getratings(id) {\n    ratingService.getAllRating(id).then(result => {\n      this.setState({\n        rate: result.data\n      });\n    });\n  }\n\n  postreview(sid, se, id) {\n    ratingService.rate(this.state.rtitle, this.state.rreview, rstar, sid, se, id).then(result => {\n      console.log(\"Successfull Rated\");\n      setTimeout(function () {\n        window.location = \"/\";\n      }, 2000);\n    }).catch(err => {\n      console.log(\"Server error\");\n    });\n  }\n\n  render() {\n    let {\n      servant\n    } = this.state;\n    let {\n      rate\n    } = this.state;\n\n    function ratingChanged(newRating) {\n      rstar = newRating;\n    }\n\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      style: {\n        backgroundColor: '#fcfcfc'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 6,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: rate.map(t => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Paper, {\n                style: {\n                  height: '50px'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                    style: {\n                      paddingTop: '10px',\n                      paddingLeft: '20px'\n                    },\n                    children: \"Reviews\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'inline-flex',\n                  marginTop: '40px',\n                  width: '100%',\n                  backgroundColor: '#f7f7f7'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                  style: {\n                    marginTop: '17px',\n                    marginRight: '20px',\n                    marginLeft: '10px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 20\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: [\"Customer:\", t.customeremail]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(ReactStars, {\n                    count: t.star,\n                    size: 24,\n                    color: \"#ffd700\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Title: \", t.reviewtitle]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Review:\", t.review]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    style: {\n                      backgroundColor: '#f7f7f7',\n                      border: '0px',\n                      color: 'darkblue'\n                    },\n                    onClick: () => liking(),\n                    children: [\" \", /*#__PURE__*/_jsxDEV(ThumbUpIcon, {\n                      style: {\n                        fontSize: '30px'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 125,\n                      columnNumber: 11\n                    }, this), \" \", this.state.likes]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 20\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 21\n            }, this)\n          }, t._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 4,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Paper, {\n            style: {\n              marginLeft: '20px',\n              height: '50px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                paddingTop: '10px',\n                paddingLeft: '20px'\n              },\n              children: \"Post A Review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: '20px',\n              marginTop: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"no content\",\n              style: {\n                maxHeight: '450px',\n                maxWidth: '400px',\n                marginLeft: '20px',\n                marginRight: '20%'\n              },\n              src: img\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"ServiceProvider E-mail:\", servant.serviceprovideremail]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Task Title: \", servant.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(ReactStars, {\n              count: 5,\n              onChange: ratingChanged,\n              size: 24,\n              activeColor: \"#ffd700\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'inline-flex',\n              marginLeft: '20px',\n              marginTop: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Avatar, {\n              variant: \"square\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"rtitle\",\n                onChange: this.handleChange,\n                value: this.state.rtitle,\n                id: \"rtitle\",\n                style: {\n                  marginLeft: '20px',\n                  width: '200px'\n                },\n                type: \"text\",\n                placeholder: \"review Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: '80px',\n              marginTop: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"rreview\",\n              onChange: this.handleChange,\n              value: this.state.rreview,\n              id: \"rreview\",\n              style: {\n                width: '100%',\n                border: '1px solid #ccccfff'\n              },\n              type: \"text\",\n              placeholder: \"Write your review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.postreview.bind(this, servant.serviceprovider, servant.serviceprovideremail, servant._id),\n              style: {\n                marginTop: '10px',\n                width: '100px',\n                border: '0px',\n                color: 'brown',\n                fontSize: '20px',\n                borderRadius: '9px'\n              },\n              children: \"POST\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default rating;","map":{"version":3,"sources":["C:/Users/RBTG/Desktop/FYP-Code/fyp/fyp-frontend/src/Component/customer/rating.jsx"],"names":["Avatar","Grid","Paper","React","ThumbUpIcon","ReactStars","img","ratingService","rstar","rating","Component","constructor","handleChange","event","target","value","type","checked","name","setState","liking","thumb","state","likes","rtitle","rreview","rate","servant","bind","componentDidMount","getserviceInfo","then","result","data","getratings","serviceprovider","id","getAllRating","postreview","sid","se","console","log","setTimeout","window","location","catch","err","render","ratingChanged","newRating","backgroundColor","map","t","height","paddingTop","paddingLeft","display","marginTop","width","marginRight","marginLeft","customeremail","star","reviewtitle","review","border","color","fontSize","_id","maxHeight","maxWidth","serviceprovideremail","title","borderRadius"],"mappings":"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","sourcesContent":["import { Avatar, Grid, Paper} from '@material-ui/core';\r\nimport React from 'react';\r\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\r\nimport ReactStars from \"react-rating-stars-component\";\r\nimport img from './plumber.jpg';\r\nimport * as ratingService from \"../../Axios-Actions/ratingService\";\r\n\r\nlet rstar=0;\r\nclass rating extends React.Component{\r\n\r\n   constructor(){\r\n       super();\r\n    this.state={\r\n        likes:0,\r\n        rtitle:'',\r\n        rreview:'',\r\n        rate:[],\r\n        servant:[],\r\n        thumb: false\r\n    };\r\n    this.handleChange= this.handleChange.bind(this);\r\n\r\n}\r\n    componentDidMount(){\r\n\r\n     ratingService.getserviceInfo()         \r\n          .then((result) => {\r\n            this.setState({ servant: result.data });\r\n            this.getratings(result.data.serviceprovider);\r\n        })\r\n       }\r\n\r\n       getratings(id){\r\n\r\n        ratingService.getAllRating(id)\r\n        .then((result) => {\r\n            this.setState({ rate: result.data });\r\n          })\r\n\r\n       }\r\n\r\n       postreview(sid,se,id){\r\n      ratingService.rate(this.state.rtitle,this.state.rreview,rstar,sid,se,id)\r\n      .then((result) => {\r\n      console.log(\"Successfull Rated\");\r\n        setTimeout(function () {\r\n          window.location = \"/\";\r\n        }, 2000);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Server error\");\r\n      });\r\n       }\r\n       handleChange = event =>{\r\n\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n    \r\n        this.setState({\r\n          [name]: value\r\n        });  \r\n      }\r\n\r\n      liking=()=>{\r\n          this.setState({thumb:!this.state.thumb})\r\n          if(this.state.thumb==true)\r\n          {\r\n           this.setState({likes:this.state.likes+1})\r\n          }\r\n          if(this.state.thumb==false)\r\n          {\r\n              this.setState({likes:this.state.likes-1})\r\n          }\r\n      }\r\n    render()\r\n    {\r\n        let { servant } = this.state;\r\n        let { rate } = this.state;\r\n        function ratingChanged(newRating) {\r\n            rstar=newRating;\r\n        }\r\n           \r\n        return(\r\n            \r\n            <Grid container style={{backgroundColor:'#fcfcfc'}}>\r\n             <Grid item md={1}></Grid>\r\n\r\n                <Grid item md={6} xs={12}> \r\n                <ul>\r\n                {\r\n                    rate.map(t=>(\r\n                        <li key={t._id}>\r\n                    <div>\r\n                        \r\n                <Paper style={{height:'50px'}}>\r\n                    <div>\r\n                <h2 style={{paddingTop:'10px',paddingLeft:'20px'}}>\r\n                Reviews\r\n                </h2>\r\n                </div>\r\n                </Paper>\r\n                <div style={{display:'inline-flex',marginTop:'40px',width:'100%',backgroundColor:'#f7f7f7'}}>\r\n                   \r\n                   <Avatar style={{marginTop:'17px',marginRight:'20px',marginLeft:'10px'}}></Avatar>\r\n                   <div>\r\n                    <h4>\r\n                       Customer:{t.customeremail}\r\n                    </h4>\r\n                    <ReactStars\r\n    count={t.star}\r\n    size={24}\r\n    color={\"#ffd700\"}\r\n  />\r\n                    <p>\r\n                        \r\n                      Title: {t.reviewtitle}\r\n                        </p><p>\r\n                        Review:{t.review}\r\n                    </p>\r\n\r\n                    <button style={{backgroundColor:'#f7f7f7',border:'0px',color:'darkblue' }} \r\n                     onClick={()=>liking()}\r\n\r\n        > <ThumbUpIcon style={{fontSize:'30px'}}/> {this.state.likes  }</button>\r\n                    </div>\r\n                </div>\r\n                </div>\r\n                </li>\r\n                    ))\r\n                }\r\n            </ul>\r\n                </Grid>\r\n\r\n\r\n\r\n\r\n\r\n                <Grid item md={4} xs={12}>\r\n                <div style={{marginTop:'20px'}}>\r\n                    <Paper style={{marginLeft:'20px',height:'50px'}}>\r\n                        <h2 style={{paddingTop:'10px',paddingLeft:'20px'}}>\r\n                            Post A Review\r\n                        </h2>\r\n                    </Paper>\r\n                    \r\n                    <div style={{marginLeft:'20px',marginTop:'20px'}}>\r\n                        <img alt=\"no content\"style={{maxHeight:'450px',maxWidth:'400px',marginLeft:'20px',marginRight:'20%'}} src={img}/>\r\n                        <p>ServiceProvider E-mail:{servant.serviceprovideremail}</p>\r\n                        <p>Task Title: {servant.title}</p>\r\n\r\n                        <ReactStars \r\n    count={5}\r\n    onChange={ratingChanged}\r\n    size={24}\r\n    activeColor=\"#ffd700\"\r\n  />\r\n\r\n                    </div>\r\n                    \r\n\r\n                    <div style={{display:'inline-flex',marginLeft:'20px',marginTop:'20px'}}>\r\n                        <Avatar variant='square'   />\r\n                        <div >\r\n                        <input name=\"rtitle\"onChange={this.handleChange} value={this.state.rtitle}id=\"rtitle\"style={{marginLeft:'20px' ,width:'200px'}} type=\"text\" placeholder=\"review Title\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div style={{marginLeft:'80px',marginTop:'10px'}}>\r\n                    <textarea  name=\"rreview\"onChange={this.handleChange} value={this.state.rreview}id=\"rreview\" style={{width:'100%',border:'1px solid #ccccfff'}} type=\"text\" placeholder=\"Write your review\"/>\r\n                    <button onClick={this.postreview.bind(this,servant.serviceprovider,servant.serviceprovideremail,servant._id)} style={{marginTop:'10px',width:'100px',border:'0px',color:'brown',fontSize:'20px',borderRadius:'9px'}}>POST</button>\r\n                        </div>\r\n                </div>\r\n                </Grid>\r\n            </Grid>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default rating;"]},"metadata":{},"sourceType":"module"}