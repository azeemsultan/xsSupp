{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\RBTG\\\\Desktop\\\\FYP-Code\\\\fyp\\\\fyp-frontend\\\\src\\\\Component\\\\customer\\\\rating.jsx\";\nimport { Avatar, Container, Grid, Paper, Typography } from '@material-ui/core';\nimport React from 'react';\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\nimport ReactStars from \"react-rating-stars-component\";\nimport img from './plumber.jpg';\nimport * as ratingService from \"../../Axios-Actions/ratingService\";\nlet rstar = 0;\n\nclass rating extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = event => {\n      const target = event.target;\n      const value = target.type === 'checkbox' ? target.checked : target.value;\n      const name = target.name;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.liking = () => {\n      this.setState({\n        thumb: !this.state.thumb\n      });\n\n      if (this.state.thumb == true) {\n        this.setState({\n          likes: this.state.likes + 1\n        });\n      }\n\n      if (this.state.thumb == false) {\n        this.setState({\n          likes: this.state.likes - 1\n        });\n      }\n    };\n\n    this.state = {\n      likes: 0,\n      rtitle: '',\n      rreview: '',\n      rate: [],\n      servant: [],\n      thumb: true\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    ratingService.getserviceInfo().then(result => {\n      this.setState({\n        servant: result.data\n      });\n      this.getratings(result.data.serviceprovider);\n    });\n  }\n\n  getratings(id) {\n    ratingService.getAllRating(id).then(result => {\n      this.setState({\n        rate: result.data\n      });\n    });\n  }\n\n  postreview(sid, se, id) {\n    ratingService.rate(this.state.rtitle, this.state.rreview, rstar, sid, se, id).then(result => {\n      console.log(\"Successfull Rated\");\n      setTimeout(function () {\n        window.location = \"/\";\n      }, 2000);\n    }).catch(err => {\n      console.log(\"Server error\");\n    });\n  }\n\n  render() {\n    let {\n      servant\n    } = this.state;\n    let {\n      rate\n    } = this.state;\n\n    function ratingChanged(newRating) {\n      rstar = newRating;\n    }\n\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        style: {\n          backgroundColor: '#fcfcfc'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 6,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: {\n              listStyle: 'none'\n            },\n            children: rate.map(t => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(Paper, {\n                  style: {\n                    height: '50px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h5\",\n                      style: {\n                        justifyContent: 'center',\n                        textAlign: 'center',\n                        paddingTop: '10px'\n                      },\n                      children: \"Reviews\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 98,\n                      columnNumber: 17\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'inline-flex',\n                    marginTop: '40px',\n                    width: '100%',\n                    backgroundColor: '#f7f7f7',\n                    flexWrap: 'wrap'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                    style: {\n                      marginTop: '17px',\n                      marginRight: '20px',\n                      marginLeft: '10px',\n                      height: '50px',\n                      width: '50px'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 20\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      style: {\n                        paddingTop: '28px'\n                      },\n                      children: [\"Customer:\", t.customeremail]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 107,\n                      columnNumber: 20\n                    }, this), /*#__PURE__*/_jsxDEV(ReactStars, {\n                      count: t.star,\n                      size: 24,\n                      color: \"#ffd700\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 110,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"Title: \", t.reviewtitle]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"Review:\", t.review]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      style: {\n                        backgroundColor: '#f7f7f7',\n                        border: '0px',\n                        color: 'darkblue'\n                      },\n                      onClick: () => this.liking(),\n                      children: [\" \", /*#__PURE__*/_jsxDEV(ThumbUpIcon, {\n                        style: {\n                          fontSize: '30px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 125,\n                        columnNumber: 11\n                      }, this), \" \", this.state.likes]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 122,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 20\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 21\n              }, this)\n            }, t._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 25\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 4,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Paper, {\n              style: {\n                marginLeft: '20px',\n                height: '50px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  paddingTop: '10px',\n                  paddingLeft: '20px'\n                },\n                children: \"Post A Review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginLeft: '20px',\n                marginTop: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"no content\",\n                style: {\n                  maxHeight: '450px',\n                  maxWidth: '400px',\n                  marginLeft: '20px',\n                  marginRight: '20%'\n                },\n                src: img\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"ServiceProvider E-mail:\", servant.serviceprovideremail]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Task Title: \", servant.title]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(ReactStars, {\n                count: 5,\n                onChange: ratingChanged,\n                size: 24,\n                activeColor: \"#ffd700\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'inline-flex',\n                marginLeft: '20px',\n                marginTop: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                variant: \"square\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"rtitle\",\n                  onChange: this.handleChange,\n                  value: this.state.rtitle,\n                  id: \"rtitle\",\n                  style: {\n                    marginLeft: '20px',\n                    width: '200px'\n                  },\n                  type: \"text\",\n                  placeholder: \"review Title\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginLeft: '80px',\n                marginTop: '10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"rreview\",\n                onChange: this.handleChange,\n                value: this.state.rreview,\n                id: \"rreview\",\n                style: {\n                  width: '100%',\n                  border: '1px solid #ccccfff'\n                },\n                type: \"text\",\n                placeholder: \"Write your review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: this.postreview.bind(this, servant.serviceprovider, servant.serviceprovideremail, servant._id),\n                style: {\n                  marginTop: '10px',\n                  width: '100px',\n                  border: '0px',\n                  color: 'brown',\n                  fontSize: '20px',\n                  borderRadius: '9px'\n                },\n                children: \"POST\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 22\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default rating;","map":{"version":3,"sources":["C:/Users/RBTG/Desktop/FYP-Code/fyp/fyp-frontend/src/Component/customer/rating.jsx"],"names":["Avatar","Container","Grid","Paper","Typography","React","ThumbUpIcon","ReactStars","img","ratingService","rstar","rating","Component","constructor","handleChange","event","target","value","type","checked","name","setState","liking","thumb","state","likes","rtitle","rreview","rate","servant","bind","componentDidMount","getserviceInfo","then","result","data","getratings","serviceprovider","id","getAllRating","postreview","sid","se","console","log","setTimeout","window","location","catch","err","render","ratingChanged","newRating","backgroundColor","listStyle","map","t","height","justifyContent","textAlign","paddingTop","display","marginTop","width","flexWrap","marginRight","marginLeft","customeremail","star","reviewtitle","review","border","color","fontSize","_id","paddingLeft","maxHeight","maxWidth","serviceprovideremail","title","borderRadius"],"mappings":"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","sourcesContent":["import { Avatar, Container, Grid, Paper, Typography} from '@material-ui/core';\r\nimport React from 'react';\r\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\r\nimport ReactStars from \"react-rating-stars-component\";\r\nimport img from './plumber.jpg';\r\nimport * as ratingService from \"../../Axios-Actions/ratingService\";\r\n\r\nlet rstar=0;\r\nclass rating extends React.Component{\r\n\r\n   constructor(){\r\n       super();\r\n    this.state={\r\n        likes:0,\r\n        rtitle:'',\r\n        rreview:'',\r\n        rate:[],\r\n        servant:[],\r\n        thumb: true\r\n    };\r\n    this.handleChange= this.handleChange.bind(this);\r\n\r\n}\r\n    componentDidMount(){\r\n\r\n     ratingService.getserviceInfo()         \r\n          .then((result) => {\r\n            this.setState({ servant: result.data });\r\n            this.getratings(result.data.serviceprovider);\r\n        })\r\n       }\r\n\r\n       getratings(id){\r\n\r\n        ratingService.getAllRating(id)\r\n        .then((result) => {\r\n            this.setState({ rate: result.data });\r\n          })\r\n\r\n       }\r\n\r\n       postreview(sid,se,id){\r\n      ratingService.rate(this.state.rtitle,this.state.rreview,rstar,sid,se,id)\r\n      .then((result) => {\r\n      console.log(\"Successfull Rated\");\r\n        setTimeout(function () {\r\n          window.location = \"/\";\r\n        }, 2000);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Server error\");\r\n      });\r\n       }\r\n       handleChange = event =>{\r\n\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n    \r\n        this.setState({\r\n          [name]: value\r\n        });  \r\n      }\r\n\r\n      liking=()=>{\r\n          this.setState({thumb:!this.state.thumb})\r\n          if(this.state.thumb==true)\r\n          {\r\n           this.setState({likes:this.state.likes+1})\r\n          }\r\n          if(this.state.thumb==false)\r\n          {\r\n              this.setState({likes:this.state.likes-1})\r\n          }\r\n      }\r\n    render()\r\n    {\r\n        let { servant } = this.state;\r\n        let { rate } = this.state;\r\n        function ratingChanged(newRating) {\r\n            rstar=newRating;\r\n        }\r\n           \r\n        return(\r\n            \r\n       \r\n               <Container maxWidth=\"lg\">\r\n                     <Grid container style={{backgroundColor:'#fcfcfc'}}>\r\n                <Grid item md={6} xs={12}> \r\n                <ul style={{listStyle:'none'}}>\r\n                {\r\n                    rate.map(t=>(\r\n                        <li key={t._id}>\r\n                    <div>\r\n                        \r\n                <Paper style={{height:'50px'}}>\r\n                    <div > \r\n                <Typography variant=\"h5\" style={{justifyContent:'center',textAlign:'center',paddingTop:'10px'}}>\r\n                Reviews\r\n                </Typography>\r\n                </div>\r\n                </Paper>\r\n                <div style={{display:'inline-flex',marginTop:'40px',width:'100%',backgroundColor:'#f7f7f7',flexWrap:'wrap'}}>\r\n                   \r\n                   <Avatar style={{marginTop:'17px',marginRight:'20px',marginLeft:'10px',height:'50px',width:'50px'}}></Avatar>\r\n                   <div>\r\n                   <Typography style={{paddingTop:'28px'}} >\r\n                       Customer:{t.customeremail}\r\n                       </Typography>\r\n                    <ReactStars\r\n    count={t.star}\r\n    size={24}\r\n    color={\"#ffd700\"}\r\n  />\r\n                    <p>\r\n                        \r\n                      Title: {t.reviewtitle}\r\n                        </p><p>\r\n                        Review:{t.review}\r\n                    </p>\r\n\r\n                    <button style={{backgroundColor:'#f7f7f7',border:'0px',color:'darkblue' }} \r\n                     onClick={()=>this.liking()}\r\n\r\n        > <ThumbUpIcon style={{fontSize:'30px'}}/> {this.state.likes  }</button>\r\n                    </div>\r\n                </div>\r\n                </div>\r\n                </li>\r\n                    ))\r\n                }\r\n            </ul>\r\n                </Grid>\r\n\r\n\r\n\r\n\r\n\r\n                <Grid item md={4} xs={12}>\r\n                <div style={{marginTop:'20px'}}>\r\n                    <Paper style={{marginLeft:'20px',height:'50px'}}>\r\n                        <h2 style={{paddingTop:'10px',paddingLeft:'20px'}}>\r\n                            Post A Review\r\n                        </h2>\r\n                    </Paper>\r\n                    \r\n                    <div style={{marginLeft:'20px',marginTop:'20px'}}>\r\n                        <img alt=\"no content\"style={{maxHeight:'450px',maxWidth:'400px',marginLeft:'20px',marginRight:'20%'}} src={img}/>\r\n                        <p>ServiceProvider E-mail:{servant.serviceprovideremail}</p>\r\n                        <p>Task Title: {servant.title}</p>\r\n\r\n                        <ReactStars \r\n    count={5}\r\n    onChange={ratingChanged}\r\n    size={24}\r\n    activeColor=\"#ffd700\"\r\n  />\r\n\r\n                    </div>\r\n                    \r\n\r\n                    <div style={{display:'inline-flex',marginLeft:'20px',marginTop:'20px'}}>\r\n                        <Avatar variant='square'   />\r\n                        <div >\r\n                        <input name=\"rtitle\"onChange={this.handleChange} value={this.state.rtitle}id=\"rtitle\"style={{marginLeft:'20px' ,width:'200px'}} type=\"text\" placeholder=\"review Title\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div style={{marginLeft:'80px',marginTop:'10px'}}>\r\n                    <textarea  name=\"rreview\"onChange={this.handleChange} value={this.state.rreview}id=\"rreview\" style={{width:'100%',border:'1px solid #ccccfff'}} type=\"text\" placeholder=\"Write your review\"/>\r\n                    <button onClick={this.postreview.bind(this,servant.serviceprovider,servant.serviceprovideremail,servant._id)} style={{marginTop:'10px',width:'100px',border:'0px',color:'brown',fontSize:'20px',borderRadius:'9px'}}>POST</button>\r\n                        </div>\r\n                </div>\r\n                </Grid>\r\n                </Grid>\r\n                </Container>\r\n \r\n            \r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default rating;"]},"metadata":{},"sourceType":"module"}