{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\RBTG\\\\Desktop\\\\FYP-Code\\\\fyp\\\\fyp-frontend\\\\src\\\\Component\\\\common\\\\login.jsx\";\nimport React, { Component } from 'react';\nimport * as authService from '../../Axios-Actions/authService';\nimport { Button, Grid, Paper, Radio, Typography } from '@material-ui/core';\nimport { Redirect } from 'react-router-dom';\nimport img1 from './work.jpg';\nimport Joi from \"joi-browser\";\nlet radiovalue;\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.schema = {\n      email: Joi.string().required().email({\n        minDomainAtoms: 2\n      }).label(\"Email\"),\n      password: Joi.string().required().min(8).label(\"Password\")\n    };\n\n    this.validateProperty = ({\n      name,\n      value\n    }) => {\n      const obj = {\n        [name]: value\n      };\n      const schema = {\n        [name]: this.schema[name]\n      };\n      const {\n        error\n      } = Joi.validate(obj, schema);\n      return error ? error.details[0].message : null;\n    };\n\n    this.validate = () => {\n      const abort = {\n        abortEarly: false\n      };\n      const {\n        error\n      } = Joi.validate(this.state.data, this.schema, abort);\n      if (!error) return null;\n      const errors = {};\n\n      for (let item of error.details) errors[item.path[0]] = item.message;\n\n      return errors;\n    };\n\n    this.state = {\n      email: \"\",\n      password: {\n        value: \"\"\n      },\n      data: {},\n      invalid: false,\n      loading: false,\n      error: \"\"\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChangeValue = this.onChangeValue.bind(this);\n  }\n\n  onChangeValue(event) {\n    console.log(event.target.value);\n    radiovalue = event.target.value;\n    this.setState({\n      selectedOption: event.target.value\n    });\n  }\n\n  onChange(e) {\n    const data = { ...this.state.data\n    };\n    const error = { ...this.state.error\n    };\n    const {\n      name,\n      value\n    } = e.currentTarget;\n    const errorMessage = this.validateProperty(e.currentTarget);\n    if (errorMessage) error[name] = errorMessage;else delete error[name];\n    data[name] = value;\n    this.setState({\n      data,\n      error\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const {\n      data\n    } = this.state;\n    const errors = this.validate();\n    this.setState({\n      error: errors || {}\n    }); // console.log(error);\n\n    if (errors) {\n      console.log(errors);\n      console.log(\"validation error\");\n      return;\n    }\n\n    if (radiovalue === \"b\") {\n      authService.CustomerLogin(data.email, data.password).then(result => {\n        localStorage.setItem(\"token\", result.data);\n        console.log(\"Successfully loged in!\");\n        setTimeout(function () {\n          window.location = \"/customerdashboard\";\n        }, 2000);\n      }).catch(err => {\n        this.setState({\n          invalid: true\n        });\n        console.log(err);\n      });\n    } else {\n      authService.ServiceProviderLogin(data.email, data.password).then(result => {\n        localStorage.setItem(\"token\", result.data);\n        console.log(\"Successfully loged in!\");\n        setTimeout(function () {\n          window.location = \"/serviceproviderdashboard\";\n        }, 2000);\n      }).catch(err => {\n        this.setState({\n          invalid: true\n        });\n        console.log(err);\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 6,\n        xs: 12,\n        style: {\n          marginTop: '50px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h2\",\n          style: {\n            color: \"#5e7bdb\"\n          },\n          children: \"Welcome to XsSupport\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          style: {\n            color: \"#5e7bdb\",\n            marginTop: '40px'\n          },\n          children: \"A world where ease is at your hands\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: img1,\n          alt: \"no content\",\n          style: {\n            maxHeight: '400px',\n            maxWidth: '700px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          style: {\n            color: \"#5e7bdb\",\n            marginTop: '20px',\n            marginBottom: '20px'\n          },\n          children: \"Register to be a part of our team.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 4,\n        xs: 12,\n        style: {\n          marginTop: '50px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 3,\n          style: {\n            marginLeft: '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"form-container\",\n                style: {\n                  listStyle: 'none',\n                  marginLeft: '30px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  style: {\n                    paddingTop: '20px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h4\",\n                    style: {\n                      color: \"#5e7bdb\",\n                      marginBottom: '20px',\n                      textAlign: 'center',\n                      marginRight: '50px'\n                    },\n                    children: \"Sign In\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"email\",\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h5\",\n                      style: {\n                        color: \"#5e7bdb\"\n                      },\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 138,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    style: {\n                      marginTop: '10px',\n                      border: '0.1rem solid #d9d9d9',\n                      height: '30px',\n                      borderRadius: '18px',\n                      width: '70%',\n                      marginBottom: '20px'\n                    },\n                    onChange: this.onChange,\n                    type: \"email\",\n                    name: \"email\",\n                    id: \"email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"password\",\n                    style: {\n                      marginTop: '10px'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h5\",\n                      style: {\n                        color: \"#5e7bdb\"\n                      },\n                      children: \"Password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 146,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    style: {\n                      marginTop: '10px',\n                      border: '0.1rem solid #d9d9d9',\n                      height: '30px',\n                      borderRadius: '18px',\n                      width: '70%',\n                      marginBottom: '20px'\n                    },\n                    onChange: this.onChange,\n                    type: \"password\",\n                    name: \"password\",\n                    id: \"password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(Radio, {\n                      checked: this.state.selectedOption === \"a\",\n                      onChange: this.onChangeValue,\n                      value: \"a\",\n                      name: \"radio-button-demo\",\n                      inputProps: {\n                        'aria-label': 'A'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 154,\n                      columnNumber: 17\n                    }, this), \"Sign in as a service provider.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(Radio, {\n                      checked: this.state.selectedOption === \"b\",\n                      onChange: this.onChangeValue,\n                      value: \"b\",\n                      name: \"radio-button-demo\",\n                      inputProps: {\n                        'aria-label': 'B'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 7\n                    }, this), \"Sign in as a customer.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 7\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"center\", {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      style: {\n                        marginTop: '20px',\n                        backgroundColor: '#4a95f7',\n                        borderRadius: '9px',\n                        width: '40%',\n                        marginRight: '60px'\n                      },\n                      type: \"submit\",\n                      onClick: this.onSubmit,\n                      className: \"button-primary\",\n                      children: [\" \", /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"h5\",\n                        style: {\n                          textAlign: 'center',\n                          color: \"white\",\n                          fontWeight: 'bold'\n                        },\n                        children: \"Sign in\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 178,\n                        columnNumber: 83\n                      }, this), \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 17\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  style: {\n                    marginTop: '20px'\n                  },\n                  children: [\"Dont have an account yet?\", /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"/customerSignup\",\n                    children: [\" \", /*#__PURE__*/_jsxDEV(Button, {\n                      children: \"Sign up as customer\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 184,\n                      columnNumber: 47\n                    }, this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h5\",\n                  style: {\n                    textAlign: 'center',\n                    color: \"white\",\n                    fontWeight: 'bold'\n                  },\n                  children: \"Create your account now!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 18\n                }, this), \"Terms and conditions...\", /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    marginLeft: '20px'\n                  },\n                  children: \" _______\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/RBTG/Desktop/FYP-Code/fyp/fyp-frontend/src/Component/common/login.jsx"],"names":["React","Component","authService","Button","Grid","Paper","Radio","Typography","Redirect","img1","Joi","radiovalue","Login","constructor","schema","email","string","required","minDomainAtoms","label","password","min","validateProperty","name","value","obj","error","validate","details","message","abort","abortEarly","state","data","errors","item","path","invalid","loading","onChange","bind","onSubmit","onChangeValue","event","console","log","target","setState","selectedOption","e","currentTarget","errorMessage","preventDefault","CustomerLogin","then","result","localStorage","setItem","setTimeout","window","location","catch","err","ServiceProviderLogin","render","marginTop","color","maxHeight","maxWidth","marginBottom","marginLeft","listStyle","paddingTop","textAlign","marginRight","border","height","borderRadius","width","backgroundColor","fontWeight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport * as authService from'../../Axios-Actions/authService';\r\nimport { Button, Grid, Paper, Radio, Typography } from '@material-ui/core';\r\nimport  { Redirect } from 'react-router-dom'\r\nimport img1 from './work.jpg';\r\nimport Joi from \"joi-browser\";\r\n\r\nlet radiovalue;\r\nclass Login extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: \"\",\r\n      password: { value: \"\" },\r\n      data: {},\r\n      invalid: false,\r\n      loading: false,\r\n      error: \"\",\r\n    };\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onChangeValue = this.onChangeValue.bind(this);\r\n  }\r\n\r\n  schema = {\r\n    email: Joi.string().required().email({ minDomainAtoms: 2 }).label(\"Email\"),\r\n    password: Joi.string().required().min(8).label(\"Password\"),\r\n  };\r\n  validateProperty = ({ name, value }) => {\r\n    const obj = { [name]: value };\r\n    const schema = { [name]: this.schema[name] };\r\n    const { error } = Joi.validate(obj, schema);\r\n\r\n    return error ? error.details[0].message : null;\r\n  };\r\n  validate = () => {\r\n    const abort = {\r\n      abortEarly: false,\r\n    };\r\n    const { error } = Joi.validate(this.state.data, this.schema, abort);\r\n    if (!error) return null;\r\n    const errors = {};\r\n    for (let item of error.details) errors[item.path[0]] = item.message;\r\n    return errors;\r\n  };\r\n  onChangeValue(event) {\r\n    console.log(event.target.value);\r\n    radiovalue = event.target.value;\r\n    this.setState({\r\n        selectedOption: event.target.value\r\n      });\r\n  }\r\n  onChange(e) {\r\n    const data = { ...this.state.data };\r\n    const error = { ...this.state.error };\r\n    const { name, value } = e.currentTarget;\r\n    const errorMessage = this.validateProperty(e.currentTarget);\r\n    if (errorMessage) error[name] = errorMessage;\r\n    else delete error[name];\r\n    data[name] = value;\r\n    this.setState({ data, error });\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const { data } = this.state;\r\n    const errors = this.validate();\r\n    this.setState({ error: errors || {} });\r\n    // console.log(error);\r\n    if (errors) {\r\n        console.log(errors);   \r\n        console.log(\"validation error\");\r\n         return;\r\n    }\r\n    if(radiovalue===\"b\"){\r\n    authService\r\n      .CustomerLogin(data.email, data.password)\r\n      .then((result) => {\r\n        localStorage.setItem(\"token\", result.data);\r\n  \r\n        console.log(\"Successfully loged in!\");\r\n        setTimeout(function () {\r\n          window.location = \"/customerdashboard\";\r\n        }, 2000);\r\n    \r\n      })\r\n      .catch((err) => {\r\n        this.setState({ invalid: true });\r\n        console.log(err)\r\n      });\r\n    }else{\r\n\r\n        authService\r\n        .ServiceProviderLogin(data.email, data.password)\r\n        .then((result) => {\r\n          localStorage.setItem(\"token\", result.data);\r\n    \r\n          console.log(\"Successfully loged in!\");\r\n          setTimeout(function () {\r\n            window.location = \"/serviceproviderdashboard\";\r\n          }, 2000);\r\n        })\r\n        .catch((err) => {\r\n          this.setState({ invalid: true });\r\n          console.log(err)\r\n        });\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <Grid container> \r\n        <Grid item md={1}>\r\n\r\n        </Grid>\r\n        <Grid item md={6} xs={12} style={{marginTop:'50px'}}>\r\n      \r\n        <Typography  variant=\"h2\" style={{color: \"#5e7bdb\"}}>Welcome to XsSupport</Typography>\r\n        <Typography  variant=\"h4\" style={{color: \"#5e7bdb\",marginTop:'40px'}}>\r\n                A world where ease is at your hands</Typography>\r\n                  <img src= {img1} alt={\"no content\"}style={{maxHeight:'400px',maxWidth:'700px'}}/>\r\n          \r\n         <Typography  variant=\"h4\" style={{color: \"#5e7bdb\",marginTop:'20px',marginBottom:'20px'}}>\r\n               Register to be a part of our team.</Typography>\r\n        </Grid>\r\n        <Grid item md={4} xs={12}  style={{marginTop:'50px'}}>\r\n          <Paper elevation={3} style={{marginLeft:'20px'}} >\r\n        <div className=\"form\"  >\r\n            <form >\r\n            <ul className=\"form-container\" style={{listStyle:'none',marginLeft:'30px',}}>\r\n                <li style={{paddingTop:'20px'}}>\r\n                <Typography  variant=\"h4\" style={{color: \"#5e7bdb\",marginBottom:'20px',textAlign:'center',marginRight:'50px'}}>Sign In</Typography>\r\n                </li>\r\n              \r\n                <li>\r\n                    <label htmlFor=\"email\">\r\n                    <Typography  variant=\"h5\" style={{color: \"#5e7bdb\"}}>Email</Typography>\r\n                    </label>\r\n                    <input style={{marginTop:'10px',border:'0.1rem solid #d9d9d9',height:'30px',borderRadius:'18px',width:'70%',marginBottom:'20px'}} onChange={this.onChange}type=\"email\" name=\"email\" id=\"email\" >\r\n\r\n                    </input>\r\n                </li>\r\n                <li>\r\n                    <label htmlFor=\"password\" style={{marginTop:'10px'}}>\r\n                    <Typography  variant=\"h5\" style={{color: \"#5e7bdb\"}}>Password</Typography>\r\n                    </label>\r\n                    <input style={{marginTop:'10px',border:'0.1rem solid #d9d9d9',height:'30px',borderRadius:'18px',width:'70%',marginBottom:'20px'}} onChange={this.onChange}type=\"password\" name=\"password\" id=\"password\" >\r\n\r\n                    </input>\r\n                </li>\r\n                <li> \r\n                <span>\r\n                <Radio\r\n        checked={this.state.selectedOption === \"a\"}\r\n        onChange={this.onChangeValue}\r\n        value=\"a\"\r\n        name=\"radio-button-demo\"\r\n        inputProps={{ 'aria-label': 'A' }}\r\n      />\r\n   Sign in as a service provider.</span>\r\n      </li>\r\n      <li>\r\n          <span>\r\n      <Radio\r\n       checked={this.state.selectedOption === \"b\"}\r\n        onChange={this.onChangeValue}\r\n        value=\"b\"\r\n        name=\"radio-button-demo\"\r\n        inputProps={{ 'aria-label': 'B' }}\r\n      />\r\nSign in as a customer.\r\n</span>\r\n                </li>\r\n                <li><center>\r\n                  \r\n                <button style={{marginTop:'20px',backgroundColor:'#4a95f7',borderRadius:'9px',width:'40%',marginRight:'60px'}} \r\n                type=\"submit\"onClick={this.onSubmit}  className=\"button-primary\"> <Typography  variant=\"h5\" style={{textAlign:'center',color: \"white\",fontWeight:'bold'}}>Sign in</Typography> </button>\r\n               \r\n               </center>\r\n                </li>\r\n                <li style={{marginTop:'20px'}}>\r\n                    Dont have an account yet?\r\n                  <a href=\"/customerSignup\" > <Button>Sign up as customer</Button> </a>\r\n                </li>\r\n                 <Typography  variant=\"h5\" style={{textAlign:'center',color: \"white\",fontWeight:'bold'}}>Create your account now!</Typography>\r\n                Terms and conditions... \r\n                <p style={{marginLeft:'20px'}}> _______</p>\r\n            </ul>\r\n            </form>\r\n        </div>\r\n        </Paper>\r\n        </Grid>\r\n        </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}